import{o as Y,k as G,l as W,m as Q,Q as Z,n as z}from"./index.7f0777d7.js";var q={exports:{}};(function(R,O){(function(I,S){R.exports=S()})(self,()=>(()=>{var I={633:b=>{function v(d,C){var P=d.length,F=new Array(P),x={},w=P,j=function(f){for(var m=new Map,y=0,c=f.length;y<c;y++){var r=f[y];m.has(r[0])||m.set(r[0],new Set),m.has(r[1])||m.set(r[1],new Set),m.get(r[0]).add(r[1])}return m}(C),g=function(f){for(var m=new Map,y=0,c=f.length;y<c;y++)m.set(f[y],y);return m}(d);for(C.forEach(function(f){if(!g.has(f[0])||!g.has(f[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});w--;)x[w]||D(d[w],w,new Set);return F;function D(f,m,y){if(y.has(f)){var c;try{c=", node was:"+JSON.stringify(f)}catch{c=""}throw new Error("Cyclic dependency"+c)}if(!g.has(f))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(f));if(!x[m]){x[m]=!0;var r=j.get(f)||new Set;if(m=(r=Array.from(r)).length){y.add(f);do{var e=r[--m];D(e,g.get(e),y)}while(m);y.delete(f)}F[--P]=f}}}b.exports=function(d){return v(function(C){for(var P=new Set,F=0,x=C.length;F<x;F++){var w=C[F];P.add(w[0]),P.add(w[1])}return Array.from(P)}(d),d)},b.exports.array=v}},S={};function E(b){var v=S[b];if(v!==void 0)return v.exports;var d=S[b]={exports:{}};return I[b](d,d.exports,E),d.exports}E.d=(b,v)=>{for(var d in v)E.o(v,d)&&!E.o(b,d)&&Object.defineProperty(b,d,{enumerable:!0,get:v[d]})},E.o=(b,v)=>Object.prototype.hasOwnProperty.call(b,v);var _={};return(()=>{E.d(_,{default:()=>y});var b=function(c,r,e,i){return new(e||(e=Promise))(function(t,a){function o(l){try{s(i.next(l))}catch(n){a(n)}}function u(l){try{s(i.throw(l))}catch(n){a(n)}}function s(l){var n;l.done?t(l.value):(n=l.value,n instanceof e?n:new e(function(h){h(n)})).then(o,u)}s((i=i.apply(c,r||[])).next())})},v=function(c,r){var e,i,t,a,o={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(l){return function(n){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,i&&(t=2&n[0]?i.return:n[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,n[1])).done)return t;switch(i=0,t&&(n=[2&n[0],t.value]),n[0]){case 0:case 1:t=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!((t=(t=o.trys).length>0&&t[t.length-1])||n[0]!==6&&n[0]!==2)){o=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){o.label=n[1];break}if(n[0]===6&&o.label<t[1]){o.label=t[1],t=n;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(n);break}t[2]&&o.ops.pop(),o.trys.pop();continue}n=r.call(c,o)}catch(h){n=[6,h],i=0}finally{e=t=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([s,l])}}};function d(c){if((c=c.trim()).match(/^([a-z0-9]+:\/\/|www.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i))return c;if(c.startsWith("//"))return window.location.protocol+c;if(c.startsWith("/"))return window.location.origin+c;var r="".concat(window.location.protocol,"//").concat(window.location.host);return window.location.pathname.indexOf("/")>-1?r+=window.location.pathname.split("/").slice(0,-1).join("/"):r+=window.location.pathname,"".concat(r,"/").concat(c)}function C(c,r){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return r||(r={credentials:"include"}),[4,fetch(c,r)];case 1:return[2,e.sent().json()]}})})}function P(c,r){return b(this,void 0,void 0,function(){var e,i,t,a;return v(this,function(o){switch(o.label){case 0:for(e=c.getElementsByTagName("script"),i=[],t=0;t<e.length;t++)e[t].dataset.h5p&&i.push(e[t]);return a=[],r.forEach(function(u){if(!i.some(function(n){return n.dataset.h5p===u})){var s=document.createElement("script");s.src=u,s.async=!1,s.defer=!1,s.dataset.h5p=u;var l=new Promise(function(n){s.onload=n});c.append(s),a.push(l)}}),[4,Promise.all(a)];case 1:return o.sent(),[2]}})})}function F(c,r){for(var e=c.getElementsByTagName("link"),i=[],t=0;t<e.length;t++)e[t].dataset.h5p&&i.push(e[t]);r.forEach(function(a){if(!i.some(function(u){return u.dataset.h5p===a})){var o=document.createElement("link");o.href=a,o.dataset.h5p=a,o.rel="stylesheet",o.type="text/css",c.append(o)}})}function x(c){return c instanceof Object&&!Array.isArray(c)}function w(c){for(var r,e,i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(!i.length)return c;var a=i.shift();if(x(c)&&x(a))for(var o in a)x(a[o])?(c[o]||Object.assign(c,((r={})[o]={},r)),w(c[o],a[o])):Object.assign(c,((e={})[o]=a[o],e));return w.apply(void 0,function(u,s,l){if(l||arguments.length===2)for(var n,h=0,N=s.length;h<N;h++)!n&&h in s||(n||(n=Array.prototype.slice.call(s,0,h)),n[h]=s[h]);return u.concat(n||Array.prototype.slice.call(s))}([c],i,!1))}function j(c,r){return r.filter(function(e){return c.indexOf(e)<0}).concat(c)}var g=function(c,r,e,i){return new(e||(e=Promise))(function(t,a){function o(l){try{s(i.next(l))}catch(n){a(n)}}function u(l){try{s(i.throw(l))}catch(n){a(n)}}function s(l){var n;l.done?t(l.value):(n=l.value,n instanceof e?n:new e(function(h){h(n)})).then(o,u)}s((i=i.apply(c,r||[])).next())})},D=function(c,r){var e,i,t,a,o={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(l){return function(n){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,i&&(t=2&n[0]?i.return:n[0]?i.throw||((t=i.return)&&t.call(i),0):i.next)&&!(t=t.call(i,n[1])).done)return t;switch(i=0,t&&(n=[2&n[0],t.value]),n[0]){case 0:case 1:t=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!((t=(t=o.trys).length>0&&t[t.length-1])||n[0]!==6&&n[0]!==2)){o=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){o.label=n[1];break}if(n[0]===6&&o.label<t[1]){o.label=t[1],t=n;break}if(t&&o.label<t[2]){o.label=t[2],o.ops.push(n);break}t[2]&&o.ops.pop(),o.trys.pop();continue}n=r.call(c,o)}catch(h){n=[6,h],i=0}finally{e=t=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([s,l])}}},f=E(633),m=function(){function c(r,e){var i=this;this.libraryFolderContainsVersion=!0;var t=e.id||Math.random().toString(36).substr(2,9);return this.prepareH5PEnvironment(t,e).then(function(a){window.H5P||(window.H5P={}),window.H5P.preventInit=!0;var o=e.embedType?e.embedType:"iframe";return i.renderPlayerFrame({anchorElement:r,contentId:t,embedType:o,H5PIntegration:a}).then(function(){return(e.preventH5PInit===void 0||e.preventH5PInit)&&(typeof window.H5P.init=="function"&&window.H5P.init(),window.H5P.preventInit=!1),t})})}return c.prototype.renderPlayerFrame=function(r){return g(this,void 0,void 0,function(){var e,i,t,a,o,u;return D(this,function(s){switch(s.label){case 0:if(!(r.anchorElement instanceof HTMLElement))throw new Error("createH5P must be passed an element");return r.embedType!=="iframe"?[3,2]:((i=document.createElement("div")).classList.add("h5p-iframe-wrapper"),i.style.backgroundColor="#DDD;",(e=document.createElement("iframe")).id="h5p-iframe-".concat(r.contentId),e.src="about:blank",e.classList.add("h5p-iframe"),e.setAttribute("scrolling","no"),e.setAttribute("data-content-id",r.contentId),e.setAttribute("frameBorder","0"),e.style.width="100%",e.style.height="100%",e.style.border="none",e.style.display="block",i.append(e),r.anchorElement.append(i),F(document.head||document.body||r.anchorElement,r.H5PIntegration.core.styles),[4,P(e,r.H5PIntegration.core.scripts)]);case 1:return s.sent(),[3,4];case 2:return(i=document.createElement("div")).classList.add("h5p-iframe"),(t=document.createElement("div")).classList.add("h5p-content"),t.setAttribute("data-content-id",r.contentId),i.append(t),r.anchorElement.append(i),a=document.head||document.body||r.anchorElement,o=(r.H5PIntegration.core.styles||[]).concat(r.H5PIntegration.contents["cid-".concat(r.contentId)].styles),F(a,o),u=(r.H5PIntegration.core.scripts||[]).concat(r.H5PIntegration.contents["cid-".concat(r.contentId)].scripts),[4,P(a,u)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},c.prototype.prepareH5PEnvironment=function(r,e){var i,t;return g(this,void 0,void 0,function(){var a,o,u,s,l,n,h,N,k,A,J,U,p,T,V,M,L;return D(this,function(H){switch(H.label){case 0:return a=this.getH5PPaths(e),o=a.h5pJsonPath,u=a.contentJsonPath,s=a.librariesPath,[4,C("".concat(o,"/h5p.json"),e==null?void 0:e.assetsRequestFetchOptions)];case 1:return l=H.sent(),n=this,[4,this.libraryFolderNameIncludesVersion(s,l.preloadedDependencies[0],e==null?void 0:e.assetsRequestFetchOptions)];case 2:return n.libraryFolderContainsVersion=H.sent(),[4,C("".concat(u,"/content.json"),e==null?void 0:e.assetsRequestFetchOptions)];case 3:return h=H.sent(),[4,this.findMainLibrary(l,s)];case 4:return N=H.sent(),[4,this.findAllDependencies(l,s)];case 5:return k=H.sent(),A=this.sortDependencies(k,s),J=A.styles,U=A.scripts,p={baseUrl:window.location.origin,url:"",contents:{},saveFreq:!1,postUserStatistics:!1,ajax:{},l10n:{H5P:{fullscreen:"Fullscreen",disableFullscreen:"Disable fullscreen",download:"Download",copyrights:"Rights of use",embed:"Embed",size:"Size",showAdvanced:"Show advanced",hideAdvanced:"Hide advanced",advancedHelp:"Include this script on your website if you want dynamic sizing of the embedded content:",copyrightInformation:"Rights of use",close:"Close",title:"Title",author:"Author",year:"Year",source:"Source",license:"License",thumbnail:"Thumbnail",noCopyrights:"No copyright information available for this content.",reuse:"Reuse",reuseContent:"Reuse Content",reuseDescription:"Reuse this content.",downloadDescription:"Download this content as a H5P file.",copyrightsDescription:"View copyright information for this content.",embedDescription:"View the embed code for this content.",h5pDescription:"Visit H5P.org to check out more cool content.",contentChanged:"This content has changed since you last used it.",startingOver:"You'll be starting over.",by:"by",showMore:"Show more",showLess:"Show less",subLevel:"Sublevel",confirmDialogHeader:"Confirm action",confirmDialogBody:"Please confirm that you wish to proceed. This action is not reversible.",cancelLabel:"Cancel",confirmLabel:"Confirm",licenseU:"Undisclosed",licenseCCBY:"Attribution",licenseCCBYSA:"Attribution-ShareAlike",licenseCCBYND:"Attribution-NoDerivs",licenseCCBYNC:"Attribution-NonCommercial",licenseCCBYNCSA:"Attribution-NonCommercial-ShareAlike",licenseCCBYNCND:"Attribution-NonCommercial-NoDerivs",licenseCC40:"4.0 International",licenseCC30:"3.0 Unported",licenseCC25:"2.5 Generic",licenseCC20:"2.0 Generic",licenseCC10:"1.0 Generic",licenseGPL:"General Public License",licenseV3:"Version 3",licenseV2:"Version 2",licenseV1:"Version 1",licensePD:"Public Domain",licenseCC010:"CC0 1.0 Universal (CC0 1.0) Public Domain Dedication",licensePDM:"Public Domain Mark",licenseC:"Copyright",contentType:"Content Type",licenseExtras:"License Extras",changes:"Changelog",contentCopied:"Content is copied to the clipboard",connectionLost:"Connection lost. Results will be stored and sent when you regain connection.",connectionReestablished:"Connection reestablished.",resubmitScores:"Attempting to submit stored results.",offlineDialogHeader:"Your connection to the server was lost",offlineDialogBody:"We were unable to send information about your completion of this task. Please check your internet connection.",offlineDialogRetryMessage:"Retrying in :num....",offlineDialogRetryButtonLabel:"Retry now",offlineSuccessfulSubmit:"Successfully submitted results."}}},window&&window.H5PIntegration&&(p=w(p,window.H5PIntegration)),T=[d("./frame.bundle.js")],V=[d("./styles/h5p.css")],e.frameJs&&(T=[d(e.frameJs)]),e.frameCss&&(V=[d(e.frameCss)]),p.core?(p.core.styles=j(p.core.styles,V),p.core.scripts=j(p.core.scripts,T)):p.core={styles:V,scripts:T},p.url=r,p.urlLibraries=s,p.postUserStatistics=!!e.postUserStatistics,e.saveFreq&&typeof e.saveFreq=="number"&&(p.saveFreq=e.saveFreq),e.user&&(p.user=e.user),!((i=e.ajax)===null||i===void 0)&&i.contentUserDataUrl&&(p.ajax.contentUserData=e.ajax.contentUserDataUrl),!((t=e.ajax)===null||t===void 0)&&t.setFinishedUrl&&(p.ajax.setFinished=e.ajax.setFinishedUrl),e.translations&&(p.l10n=w(p.l10n,e.translations)),e.customCss&&typeof e.customCss=="string"&&(e.customCss=[e.customCss]),e.customJs&&typeof e.customJs=="string"&&(e.customJs=[e.customJs]),J=J.concat((e.customCss||[]).map(function(B){return d(B)})),U=U.concat((e.customJs||[]).map(function(B){return d(B)})),M={copyright:!!e.copyright,embed:!!e.embed,export:!!e.export,frame:!!e.frame,icon:!!e.icon,copy:!!e.copy},L="".concat(N.machineName," "),N.majorVersion&&(L+=N.majorVersion),N.minorVersion&&(L+=".".concat(N.minorVersion)),p.contents||(p.contents={}),e!=null&&e.metadata||(e.metadata={title:e.title?e.title:"",license:"U"}),p.contents["cid-".concat(r)]={library:L,title:e.title?e.title:"",url:o,contentUrl:u,jsonContent:JSON.stringify(h),styles:J,scripts:U,fullScreen:!!e.fullScreen,exportUrl:e.downloadUrl?d(e.downloadUrl):void 0,embedCode:e.embedCode?e.embedCode:"",resizeCode:e.resizeCode?e.resizeCode:"",displayOptions:M,contentUserData:e.contentUserData,metadata:e.metadata},e.xAPIObjectIRI&&(p.contents["cid-".concat(r)].url=e.xAPIObjectIRI),window.H5PIntegration=p,[2,p]}})})},c.prototype.getH5PPaths=function(r){var e=d("workspace");r.h5pJsonPath&&(e=d(r.h5pJsonPath));var i="".concat(e,"/content");r.contentJsonPath&&(i=d(r.contentJsonPath));var t=e;return r.librariesPath&&(t=d(r.librariesPath)),{h5pJsonPath:e,contentJsonPath:i,librariesPath:t}},c.prototype.libraryFolderNameIncludesVersion=function(r,e,i){return g(this,void 0,void 0,function(){var t,a;return D(this,function(o){switch(o.label){case 0:t=this.libraryToFolderName(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,C("".concat(r,"/").concat(t,"/library.json"),i)];case 2:return o.sent(),a=!0,[3,4];case 3:return o.sent(),a=!1,[3,4];case 4:return[2,a]}})})},c.prototype.libraryToFolderName=function(r){var e=r.machineName;return this.libraryFolderContainsVersion&&(r.majorVersion!==void 0&&(e+="-".concat(r.majorVersion)),r.minorVersion!==void 0&&(e+=".".concat(r.minorVersion))),e},c.prototype.findMainLibrary=function(r,e){return g(this,void 0,void 0,function(){var i,t;return D(this,function(a){return i=r.preloadedDependencies.find(function(o){return o.machineName===r.mainLibrary}),t=this.libraryToFolderName(i),[2,C("".concat(e,"/").concat(t,"/library.json"))]})})},c.prototype.findAllDependencies=function(r,e){return g(this,void 0,void 0,function(){var i,t=this;return D(this,function(a){return i=r.preloadedDependencies.map(function(o){return t.libraryToFolderName(o)}),[2,this.loadDependencies(i,[],e)]})})},c.prototype.loadDependencies=function(r,e,i){return g(this,void 0,void 0,function(){var t,a,o,u,s=this;return D(this,function(l){switch(l.label){case 0:return t=e,a=[],o=r.map(function(n){return s.findLibraryDependencies(n,i)}),[4,Promise.all(o)];case 1:return(u=l.sent()).forEach(function(n){t.push(n),n.dependencies.forEach(function(h){var N=t.find(function(A){return A.libraryFolderName===h}),k=u.find(function(A){return A.libraryFolderName===h});N||k||a.push(h)})}),a.length>0?[2,this.loadDependencies(a,t,i)]:[2,t]}})})},c.prototype.findLibraryDependencies=function(r,e){return g(this,void 0,void 0,function(){var i,t,a=this;return D(this,function(o){switch(o.label){case 0:return[4,C("".concat(e,"/").concat(r,"/library.json"))];case 1:return i=o.sent(),t=[],i.preloadedDependencies&&(t=i.preloadedDependencies.map(function(u){return a.libraryToFolderName(u)})),[2,{libraryFolderName:r,dependencies:t,preloadedCss:i.preloadedCss,preloadedJs:i.preloadedJs}]}})})},c.prototype.sortDependencies=function(r,e){var i=[],t={},a={};r.forEach(function(s){s.dependencies.length===0&&i.push([s.libraryFolderName]),s.dependencies.forEach(function(l){i.push([s.libraryFolderName,l])}),s.preloadedCss&&(t[s.libraryFolderName]=[],t[s.libraryFolderName]&&(t[s.libraryFolderName]=t[s.libraryFolderName]),s.preloadedCss.forEach(function(l){var n="".concat(e,"/").concat(s.libraryFolderName,"/").concat(l.path);t[s.libraryFolderName].push(n)})),s.preloadedJs&&(a[s.libraryFolderName]=[],a[s.libraryFolderName]&&(a[s.libraryFolderName]=a[s.libraryFolderName]),s.preloadedJs.forEach(function(l){var n="".concat(e,"/").concat(s.libraryFolderName,"/").concat(l.path);a[s.libraryFolderName].push(n)}))});var o=[],u=[];return f(i).reverse().forEach(function(s){Array.prototype.push.apply(o,t[s]),Array.prototype.push.apply(u,a[s])}),{styles:o,scripts:u}},c}();m.EventDispatcher=function(){};const y={H5P:m}})(),_.default})())})(q);const K=z("p",{class:"text-h6"},"Tester Page",-1),X=z("div",{id:"h5p-container"},null,-1),ee={__name:"TestPage",setup(R){return Y(()=>{const O=document.getElementById("h5p-container"),I={h5pJsonPath:"h5p/contents/chess-game-69782",frameJs:"h5p/h5p-standalone-3.6.0/frame.bundle.js",frameCss:"h5p/h5p-standalone-3.6.0/styles/h5p.css"};new q.exports.H5P(O,I)}),(O,I)=>(G(),W(Z,{class:"flex column q-pa-md"},{default:Q(()=>[K,X]),_:1}))}};export{ee as default};
