import{u as tt,v as Tt,x as Et,c as n,h as b,y as dt,g as je,z as il,r as z,A as sl,w as Ce,B as cl,C as Ot,D as Rt,E as pt,G as Pt,H as He,I as dl,J as vl,K as vt,L as fl,M as ml,N as gl,O as hl,P as ze,R as kt,S as Nt,U as Ht,V as Dt,W as Sl,X as we,Y as bl,b as yl,Z as pl,$ as kl,a0 as wl,a1 as Cl,a2 as xl,a3 as ft,a4 as ut,a5 as qt,a6 as Ye,a7 as At,a8 as Vl,a9 as Re,aa as Ml,ab as _l,ac as yt,ad as jt,ae as Qt,af as ql,k as ce,ag as nt,ah as Al,p as de,f as X,_ as zl,l as Pe,m as Ge,n as mt,t as Ne,ai as gt,aj as ht,F as Je,ak as Bl,Q as zt,al as Ze,am as Bt,q as It}from"./index.413ee3c4.js";import{Q as Kt}from"./QChip.4992a799.js";var Il=tt({name:"QBanner",props:{...Tt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:c}){const{proxy:{$q:m}}=je(),u=Et(e,m),l=n(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),o=n(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const A=[b("div",{class:"q-banner__avatar col-auto row items-center self-start"},dt(c.avatar)),b("div",{class:"q-banner__content col text-body2"},dt(c.default))],g=dt(c.action);return g!==void 0&&A.push(b("div",{class:o.value},g)),b("div",{class:l.value+(e.inlineActions===!1&&g!==void 0?" q-banner--top-padding":""),role:"alert"},A)}}}),Fl=tt({name:"QPopupProxy",props:{...il,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:c,emit:m,attrs:u}){const{proxy:l}=je(),{$q:o}=l,A=z(!1),g=z(null),h=n(()=>parseInt(e.breakpoint,10)),{canShow:w}=sl({showing:A});function r(){return o.screen.width<h.value||o.screen.height<h.value?"dialog":"menu"}const v=z(r()),M=n(()=>v.value==="menu"?{maxHeight:"99vh"}:{});Ce(()=>r(),_=>{A.value!==!0&&(v.value=_)});function p(_){A.value=!0,m("show",_)}function T(_){A.value=!1,v.value=r(),m("hide",_)}return Object.assign(l,{show(_){w(_)===!0&&g.value.show(_)},hide(_){g.value.hide(_)},toggle(_){g.value.toggle(_)}}),cl(l,"currentComponent",()=>({type:v.value,ref:g.value})),()=>{const _={ref:g,...M.value,...u,onShow:p,onHide:T};let N;return v.value==="dialog"?N=Ot:(N=Rt,Object.assign(_,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),b(N,_,c.default)}}});const Ft="q-slider__marker-labels",Ll=e=>({value:e}),$l=({marker:e})=>b("div",{key:e.value,style:e.style,class:e.classes},e.label),Ut=[34,37,40,33,39,38],Tl={...Tt,...Pt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},El=["pan","update:modelValue","change"];function Ol({updateValue:e,updatePosition:c,getDragging:m,formAttrs:u}){const{props:l,emit:o,slots:A,proxy:{$q:g}}=je(),h=Et(l,g),w=gl(u),r=z(!1),v=z(!1),M=z(!1),p=z(!1),T=n(()=>l.vertical===!0?"--v":"--h"),_=n(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),N=n(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(g.lang.rtl===!0)),K=n(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),P=n(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),F=n(()=>l.disable!==!0&&l.readonly!==!0&&K.value<P.value),B=n(()=>(String(l.step).trim().split(".")[1]||"").length),L=n(()=>l.step===0?1:l.step),ee=n(()=>F.value===!0?l.tabindex||0:-1),ne=n(()=>l.max-l.min),ve=n(()=>P.value-K.value),ue=n(()=>re(K.value)),te=n(()=>re(P.value)),Y=n(()=>l.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),fe=n(()=>l.vertical===!0?"height":"width"),xe=n(()=>l.vertical===!0?"width":"height"),Se=n(()=>l.vertical===!0?"vertical":"horizontal"),me=n(()=>{const a={role:"slider","aria-valuemin":K.value,"aria-valuemax":P.value,"aria-orientation":Se.value,"data-step":l.step};return l.disable===!0?a["aria-disabled"]="true":l.readonly===!0&&(a["aria-readonly"]="true"),a}),oe=n(()=>`q-slider q-slider${T.value} q-slider--${r.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(F.value===!0?" q-slider--editable":""))+(M.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(h.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+T.value:""));function ge(a){const V="q-slider__"+a;return`${V} ${V}${T.value} ${V}${T.value}${_.value}`}function be(a){const V="q-slider__"+a;return`${V} ${V}${T.value}`}const ye=n(()=>{const a=l.selectionColor||l.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),f=n(()=>be("markers")+" absolute overflow-hidden"),s=n(()=>be("track-container")),S=n(()=>ge("pin")),k=n(()=>ge("label")),E=n(()=>ge("text-container")),D=n(()=>ge("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),q=n(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),C=n(()=>{const a={[xe.value]:l.trackSize};return l.trackImg!==void 0&&(a.backgroundImage=`url(${l.trackImg}) !important`),a}),Q=n(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),x=n(()=>{const a={[Y.value]:`${100*ue.value}%`,[fe.value]:`${100*(te.value-ue.value)}%`};return l.innerTrackImg!==void 0&&(a.backgroundImage=`url(${l.innerTrackImg}) !important`),a});function W(a){const{min:V,max:$,step:O}=l;let j=V+a*($-V);if(O>0){const le=(j-V)%O;j+=(Math.abs(le)>=O/2?(le<0?-1:1)*O:0)-le}return B.value>0&&(j=parseFloat(j.toFixed(B.value))),He(j,K.value,P.value)}function re(a){return ne.value===0?0:(a-l.min)/ne.value}function Ve(a,V){const $=dl(a),O=l.vertical===!0?He(($.top-V.top)/V.height,0,1):He(($.left-V.left)/V.width,0,1);return He(N.value===!0?1-O:O,ue.value,te.value)}const Z=n(()=>vl(l.markers)===!0?l.markers:L.value),Me=n(()=>{const a=[],V=Z.value,$=l.max;let O=l.min;do a.push(O),O+=V;while(O<$);return a.push($),a}),ie=n(()=>{const a=` ${Ft}${T.value}-`;return Ft+`${a}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${N.value===!0?"rtl":"ltr"}`}),se=n(()=>l.markerLabels===!1?null:Qe(l.markerLabels).map((a,V)=>({index:V,value:a.value,label:a.label||a.value,classes:ie.value+(a.classes!==void 0?" "+a.classes:""),style:{...U(a.value),...a.style||{}}}))),_e=n(()=>({markerList:se.value,markerMap:G.value,classes:ie.value,getStyle:U})),qe=n(()=>{if(ve.value!==0){const a=100*Z.value/ve.value;return{...x.value,backgroundSize:l.vertical===!0?`2px ${a}%`:`${a}% 2px`}}return null});function Qe(a){if(a===!1)return null;if(a===!0)return Me.value.map(Ll);if(typeof a=="function")return Me.value.map($=>{const O=a($);return vt(O)===!0?{...O,value:$}:{value:$,label:O}});const V=({value:$})=>$>=l.min&&$<=l.max;return Array.isArray(a)===!0?a.map($=>vt($)===!0?$:{value:$}).filter(V):Object.keys(a).map($=>{const O=a[$],j=Number($);return vt(O)===!0?{...O,value:j}:{value:j,label:O}}).filter(V)}function U(a){return{[Y.value]:`${100*(a-l.min)/ne.value}%`}}const G=n(()=>{if(l.markerLabels===!1)return null;const a={};return se.value.forEach(V=>{a[V.value]=V}),a});function pe(){if(A["marker-label-group"]!==void 0)return A["marker-label-group"](_e.value);const a=A["marker-label"]||$l;return se.value.map(V=>a({marker:V,..._e.value}))}const Be=n(()=>[[fl,rt,void 0,{[Se.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function rt(a){a.isFinal===!0?(p.value!==void 0&&(c(a.evt),a.touch===!0&&e(!0),p.value=void 0,o("pan","end")),r.value=!1,M.value=!1):a.isFirst===!0?(p.value=m(a.evt),c(a.evt),e(),r.value=!0,o("pan","start")):(c(a.evt),e())}function Ke(){M.value=!1}function Ue(a){c(a,m(a)),e(),v.value=!0,r.value=!0,document.addEventListener("mouseup",We,!0)}function We(){v.value=!1,r.value=!1,e(!0),Ke(),document.removeEventListener("mouseup",We,!0)}function lt(a){c(a,m(a)),e(!0)}function he(a){Ut.includes(a.keyCode)&&e(!0)}function ke(a){if(l.vertical===!0)return null;const V=g.lang.rtl!==l.reverse?1-a:a;return{transform:`translateX(calc(${2*V-1} * ${l.thumbSize} / 2 + ${50-100*V}%))`}}function Ie(a){const V=n(()=>v.value===!1&&(M.value===a.focusValue||M.value==="both")?" q-slider--focus":""),$=n(()=>`q-slider__thumb q-slider__thumb${T.value} q-slider__thumb${T.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+V.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),O=n(()=>({width:l.thumbSize,height:l.thumbSize,[Y.value]:`${100*a.ratio.value}%`,zIndex:M.value===a.focusValue?2:void 0})),j=n(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),le=n(()=>ke(a.ratio.value)),Fe=n(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const Le=[b("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[b("path",{d:l.thumbPath})]),b("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(Le.push(b("div",{class:S.value+" absolute fit no-pointer-events"+j.value},[b("div",{class:k.value,style:{minWidth:l.thumbSize}},[b("div",{class:E.value,style:le.value},[b("span",{class:Fe.value},a.label.value)])])])),l.name!==void 0&&l.disable!==!0&&w(Le,"push")),b("div",{class:$.value,style:O.value,...a.getNodeData()},Le)}}function it(a,V,$,O){const j=[];l.innerTrackColor!=="transparent"&&j.push(b("div",{key:"inner",class:Q.value,style:x.value})),l.selectionColor!=="transparent"&&j.push(b("div",{key:"selection",class:ye.value,style:a.value})),l.markers!==!1&&j.push(b("div",{key:"marker",class:f.value,style:qe.value})),O(j);const le=[ml("div",{key:"trackC",class:s.value,tabindex:V.value,...$.value},[b("div",{class:q.value,style:C.value},j)],"slide",F.value,()=>Be.value)];if(l.markerLabels!==!1){const Fe=l.switchMarkerLabelsSide===!0?"unshift":"push";le[Fe](b("div",{key:"markerL",class:D.value},pe()))}return le}return pt(()=>{document.removeEventListener("mouseup",We,!0)}),{state:{active:r,focus:M,preventFocus:v,dragging:p,editable:F,classes:oe,tabindex:ee,attributes:me,step:L,decimals:B,trackLen:ne,innerMin:K,innerMinRatio:ue,innerMax:P,innerMaxRatio:te,positionProp:Y,sizeProp:fe,isReversed:N},methods:{onActivate:Ue,onMobileClick:lt,onBlur:Ke,onKeyup:he,getContent:it,getThumbRenderFn:Ie,convertRatioToModel:W,convertModelToRatio:re,getDraggingRatio:Ve}}}const Rl=()=>({});var Pl=tt({name:"QSlider",props:{...Tl,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:El,setup(e,{emit:c}){const{proxy:{$q:m}}=je(),{state:u,methods:l}=Ol({updateValue:T,updatePosition:N,getDragging:_,formAttrs:hl(e)}),o=z(null),A=z(0),g=z(0);function h(){g.value=e.modelValue===null?u.innerMin.value:He(e.modelValue,u.innerMin.value,u.innerMax.value)}Ce(()=>`${e.modelValue}|${u.innerMin.value}|${u.innerMax.value}`,h),h();const w=n(()=>l.convertModelToRatio(g.value)),r=n(()=>u.active.value===!0?A.value:w.value),v=n(()=>{const F={[u.positionProp.value]:`${100*u.innerMinRatio.value}%`,[u.sizeProp.value]:`${100*(r.value-u.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(F.backgroundImage=`url(${e.selectionImg}) !important`),F}),M=l.getThumbRenderFn({focusValue:!0,getNodeData:Rl,ratio:r,label:n(()=>e.labelValue!==void 0?e.labelValue:g.value),thumbColor:n(()=>e.thumbColor||e.color),labelColor:n(()=>e.labelColor),labelTextColor:n(()=>e.labelTextColor)}),p=n(()=>u.editable.value!==!0?{}:m.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:K,onBlur:l.onBlur,onKeydown:P,onKeyup:l.onKeyup});function T(F){g.value!==e.modelValue&&c("update:modelValue",g.value),F===!0&&c("change",g.value)}function _(){return o.value.getBoundingClientRect()}function N(F,B=u.dragging.value){const L=l.getDraggingRatio(F,B);g.value=l.convertRatioToModel(L),A.value=e.snap!==!0||e.step===0?L:l.convertModelToRatio(g.value)}function K(){u.focus.value=!0}function P(F){if(!Ut.includes(F.keyCode))return;ze(F);const B=([34,33].includes(F.keyCode)?10:1)*u.step.value,L=([34,37,40].includes(F.keyCode)?-1:1)*(u.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*B;g.value=He(parseFloat((g.value+L).toFixed(u.decimals.value)),u.innerMin.value,u.innerMax.value),T()}return()=>{const F=l.getContent(v,u.tabindex,p,B=>{B.push(M())});return b("div",{ref:o,class:u.classes.value+(e.modelValue===null?" q-slider--no-value":""),...u.attributes.value,"aria-valuenow":e.modelValue},F)}}}),Nl=tt({name:"QField",inheritAttrs:!1,props:kt,emits:Nt,setup(){return Ht(Dt())}});let ot=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const c=document.createElement("div");Object.assign(c.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(c),e.scrollLeft=-1e3,ot=e.scrollLeft>=0,e.remove()}const ae=1e3,Hl=["start","center","end","start-force","center-force","end-force"],Wt=Array.prototype.filter,Dl=window.getComputedStyle(document.body).overflowAnchor===void 0?Sl:function(e,c){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const m=e.children||[];Wt.call(m,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const u=m[c];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function De(e,c){return e+c}function St(e,c,m,u,l,o,A,g){const h=e===window?document.scrollingElement||document.documentElement:e,w=l===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-A-g,scrollMaxSize:0,offsetStart:-A,offsetEnd:-g};if(l===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=h.scrollLeft,r.scrollViewSize+=h.clientWidth),r.scrollMaxSize=h.scrollWidth,o===!0&&(r.scrollStart=(ot===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=h.scrollTop,r.scrollViewSize+=h.clientHeight),r.scrollMaxSize=h.scrollHeight),m!==null)for(let v=m.previousElementSibling;v!==null;v=v.previousElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=v[w]);if(u!==null)for(let v=u.nextElementSibling;v!==null;v=v.nextElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=v[w]);if(c!==e){const v=h.getBoundingClientRect(),M=c.getBoundingClientRect();l===!0?(r.offsetStart+=M.left-v.left,r.offsetEnd-=M.width):(r.offsetStart+=M.top-v.top,r.offsetEnd-=M.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function Lt(e,c,m,u){c==="end"&&(c=(e===window?document.body:e)[m===!0?"scrollWidth":"scrollHeight"]),e===window?m===!0?(u===!0&&(c=(ot===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-c),window.scrollTo(c,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c):m===!0?(u===!0&&(c=(ot===!0?e.scrollWidth-e.offsetWidth:0)-c),e.scrollLeft=c):e.scrollTop=c}function et(e,c,m,u){if(m>=u)return 0;const l=c.length,o=Math.floor(m/ae),A=Math.floor((u-1)/ae)+1;let g=e.slice(o,A).reduce(De,0);return m%ae!==0&&(g-=c.slice(o*ae,m).reduce(De,0)),u%ae!==0&&u!==l&&(g-=c.slice(u,A*ae).reduce(De,0)),g}const jl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ql={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...jl};function Kl({virtualScrollLength:e,getVirtualScrollTarget:c,getVirtualScrollEl:m,virtualScrollItemSizeComputed:u}){const l=je(),{props:o,emit:A,proxy:g}=l,{$q:h}=g;let w,r,v,M=[],p;const T=z(0),_=z(0),N=z({}),K=z(null),P=z(null),F=z(null),B=z({from:0,to:0}),L=n(()=>o.tableColspan!==void 0?o.tableColspan:100);u===void 0&&(u=n(()=>o.virtualScrollItemSize));const ee=n(()=>u.value+";"+o.virtualScrollHorizontal),ne=n(()=>ee.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);Ce(ne,()=>{oe()}),Ce(ee,ve);function ve(){me(r,!0)}function ue(s){me(s===void 0?r:s)}function te(s,S){const k=c();if(k==null||k.nodeType===8)return;const E=St(k,m(),K.value,P.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);v!==E.scrollViewSize&&oe(E.scrollViewSize),fe(k,E,Math.min(e.value-1,Math.max(0,parseInt(s,10)||0)),0,Hl.indexOf(S)>-1?S:r>-1&&s>r?"end":"start")}function Y(){const s=c();if(s==null||s.nodeType===8)return;const S=St(s,m(),K.value,P.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),k=e.value-1,E=S.scrollMaxSize-S.offsetStart-S.offsetEnd-_.value;if(w===S.scrollStart)return;if(S.scrollMaxSize<=0){fe(s,S,0,0);return}v!==S.scrollViewSize&&oe(S.scrollViewSize),xe(B.value.from);const D=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(p[k],S.scrollViewSize/2));if(D>0&&Math.ceil(S.scrollStart)>=D){fe(s,S,k,S.scrollMaxSize-S.offsetEnd-M.reduce(De,0));return}let q=0,C=S.scrollStart-S.offsetStart,Q=C;if(C<=E&&C+S.scrollViewSize>=T.value)C-=T.value,q=B.value.from,Q=C;else for(let x=0;C>=M[x]&&q<k;x++)C-=M[x],q+=ae;for(;C>0&&q<k;)C-=p[q],C>-S.scrollViewSize?(q++,Q=C):Q=p[q]+C;fe(s,S,q,Q)}function fe(s,S,k,E,D){const q=typeof D=="string"&&D.indexOf("-force")>-1,C=q===!0?D.replace("-force",""):D,Q=C!==void 0?C:"start";let x=Math.max(0,k-N.value[Q]),W=x+N.value.total;W>e.value&&(W=e.value,x=Math.max(0,W-N.value.total)),w=S.scrollStart;const re=x!==B.value.from||W!==B.value.to;if(re===!1&&C===void 0){be(k);return}const{activeElement:Ve}=document,Z=F.value;re===!0&&Z!==null&&Z!==Ve&&Z.contains(Ve)===!0&&(Z.addEventListener("focusout",Se),setTimeout(()=>{Z!==null&&Z.removeEventListener("focusout",Se)})),Dl(Z,k-x);const Me=C!==void 0?p.slice(x,k).reduce(De,0):0;if(re===!0){const ie=W>=B.value.from&&x<=B.value.to?B.value.to:W;B.value={from:x,to:ie},T.value=et(M,p,0,x),_.value=et(M,p,W,e.value),requestAnimationFrame(()=>{B.value.to!==W&&w===S.scrollStart&&(B.value={from:B.value.from,to:W},_.value=et(M,p,W,e.value))})}requestAnimationFrame(()=>{if(w!==S.scrollStart)return;re===!0&&xe(x);const ie=p.slice(x,k).reduce(De,0),se=ie+S.offsetStart+T.value,_e=se+p[k];let qe=se+E;if(C!==void 0){const Qe=ie-Me,U=S.scrollStart+Qe;qe=q!==!0&&U<se&&_e<U+S.scrollViewSize?U:C==="end"?_e-S.scrollViewSize:se-(C==="start"?0:Math.round((S.scrollViewSize-p[k])/2))}w=qe,Lt(s,qe,o.virtualScrollHorizontal,h.lang.rtl),be(k)})}function xe(s){const S=F.value;if(S){const k=Wt.call(S.children,x=>x.classList&&x.classList.contains("q-virtual-scroll--skip")===!1),E=k.length,D=o.virtualScrollHorizontal===!0?x=>x.getBoundingClientRect().width:x=>x.offsetHeight;let q=s,C,Q;for(let x=0;x<E;){for(C=D(k[x]),x++;x<E&&k[x].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=D(k[x]),x++;Q=C-p[q],Q!==0&&(p[q]+=Q,M[Math.floor(q/ae)]+=Q),q++}}}function Se(){F.value!==null&&F.value!==void 0&&F.value.focus()}function me(s,S){const k=1*u.value;(S===!0||Array.isArray(p)===!1)&&(p=[]);const E=p.length;p.length=e.value;for(let q=e.value-1;q>=E;q--)p[q]=k;const D=Math.floor((e.value-1)/ae);M=[];for(let q=0;q<=D;q++){let C=0;const Q=Math.min((q+1)*ae,e.value);for(let x=q*ae;x<Q;x++)C+=p[x];M.push(C)}r=-1,w=void 0,T.value=et(M,p,0,B.value.from),_.value=et(M,p,B.value.to,e.value),s>=0?(xe(B.value.from),we(()=>{te(s)})):ye()}function oe(s){if(s===void 0&&typeof window!="undefined"){const C=c();C!=null&&C.nodeType!==8&&(s=St(C,m(),K.value,P.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}v=s;const S=parseFloat(o.virtualScrollSliceRatioBefore)||0,k=parseFloat(o.virtualScrollSliceRatioAfter)||0,E=1+S+k,D=s===void 0||s<=0?1:Math.ceil(s/u.value),q=Math.max(1,D,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/E));N.value={total:Math.ceil(q*E),start:Math.ceil(q*S),center:Math.ceil(q*(.5+S)),end:Math.ceil(q*(1+S)),view:D}}function ge(s,S){const k=o.virtualScrollHorizontal===!0?"width":"height",E={["--q-virtual-scroll-item-"+k]:u.value+"px"};return[s==="tbody"?b(s,{class:"q-virtual-scroll__padding",key:"before",ref:K},[b("tr",[b("td",{style:{[k]:`${T.value}px`,...E},colspan:L.value})])]):b(s,{class:"q-virtual-scroll__padding",key:"before",ref:K,style:{[k]:`${T.value}px`,...E}}),b(s,{class:"q-virtual-scroll__content",key:"content",ref:F,tabindex:-1},S.flat()),s==="tbody"?b(s,{class:"q-virtual-scroll__padding",key:"after",ref:P},[b("tr",[b("td",{style:{[k]:`${_.value}px`,...E},colspan:L.value})])]):b(s,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[k]:`${_.value}px`,...E}})]}function be(s){r!==s&&(o.onVirtualScroll!==void 0&&A("virtualScroll",{index:s,from:B.value.from,to:B.value.to-1,direction:s<r?"decrease":"increase",ref:g}),r=s)}oe();const ye=bl(Y,h.platform.is.ios===!0?120:35);yl(()=>{oe()});let f=!1;return pl(()=>{f=!0}),kl(()=>{if(f!==!0)return;const s=c();w!==void 0&&s!==void 0&&s!==null&&s.nodeType!==8?Lt(s,w,o.virtualScrollHorizontal,h.lang.rtl):te(r)}),pt(()=>{ye.cancel()}),Object.assign(g,{scrollTo:te,reset:ve,refresh:ue}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:N,setVirtualScrollSize:oe,onVirtualScrollEvt:ye,localResetVirtualScroll:me,padVirtualScroll:ge,scrollTo:te,reset:ve,refresh:ue}}const $t=e=>["add","add-unique","toggle"].includes(e),Ul=".*+?^${}()|[]\\",Wl=Object.keys(kt);var Xl=tt({name:"QSelect",inheritAttrs:!1,props:{...Ql,...Pt,...kt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:$t},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Nt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:c,emit:m}){const{proxy:u}=je(),{$q:l}=u,o=z(!1),A=z(!1),g=z(-1),h=z(""),w=z(!1),r=z(!1);let v=null,M,p,T,_=null,N,K,P,F;const B=z(null),L=z(null),ee=z(null),ne=z(null),ve=z(null),ue=wl(e),te=_l(Ct),Y=n(()=>Array.isArray(e.options)?e.options.length:0),fe=n(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:xe,virtualScrollSliceSizeComputed:Se,localResetVirtualScroll:me,padVirtualScroll:oe,onVirtualScrollEvt:ge,scrollTo:be,setVirtualScrollSize:ye}=Kl({virtualScrollLength:Y,getVirtualScrollTarget:Xt,getVirtualScrollEl:Le,virtualScrollItemSizeComputed:fe}),f=Dt(),s=n(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,d=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const i=e.mapOptions===!0&&M!==void 0?M:[],y=d.map(R=>it(R,i));return e.modelValue===null&&t===!0?y.filter(R=>R!==null):y}return d}),S=n(()=>{const t={};return Wl.forEach(d=>{const i=e[d];i!==void 0&&(t[d]=i)}),t}),k=n(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),E=n(()=>qt(s.value)),D=n(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||s.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),q=n(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=n(()=>Y.value===0),Q=n(()=>s.value.map(t=>G.value(t)).join(", ")),x=n(()=>e.displayValue!==void 0?e.displayValue:Q.value),W=n(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),re=n(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||s.value.some(W.value))),Ve=n(()=>f.focused.value===!0?e.tabindex:-1),Z=n(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${f.targetUid.value}_lb`};return g.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${g.value}`),t}),Me=n(()=>({id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ie=n(()=>s.value.map((t,d)=>({index:d,opt:t,html:W.value(t),selected:!0,removeAtIndex:We,toggleOption:he,tabindex:Ve.value}))),se=n(()=>{if(Y.value===0)return[];const{from:t,to:d}=xe.value;return e.options.slice(t,d).map((i,y)=>{const R=pe.value(i)===!0,I=t+y,H={clickable:!0,active:!1,activeClass:Qe.value,manualFocus:!0,focused:!1,disable:R,tabindex:-1,dense:e.optionsDense,dark:k.value,role:"option",id:`${f.targetUid.value}_${I}`,onClick:()=>{he(i)}};return R!==!0&&(V(i)===!0&&(H.active=!0),g.value===I&&(H.focused=!0),H["aria-selected"]=H.active===!0?"true":"false",l.platform.is.desktop===!0&&(H.onMousemove=()=>{o.value===!0&&ke(I)})),{index:I,opt:i,html:W.value(i),label:G.value(i),selected:H.active,focused:H.focused,toggleOption:he,setOptionIndex:ke,itemProps:H}})}),_e=n(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),qe=n(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Qe=n(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),U=n(()=>a(e.optionValue,"value")),G=n(()=>a(e.optionLabel,"label")),pe=n(()=>a(e.optionDisable,"disable")),Be=n(()=>s.value.map(t=>U.value(t))),rt=n(()=>{const t={onInput:Ct,onChange:te,onKeydown:Fe,onKeyup:j,onKeypress:le,onFocus:$,onClick(d){p===!0&&Re(d)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=te,t});Ce(s,t=>{M=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(A.value!==!0&&o.value!==!0||E.value!==!0)&&(T!==!0&&Oe(),(A.value===!0||o.value===!0)&&$e(""))},{immediate:!0}),Ce(()=>e.fillInput,Oe),Ce(o,st),Ce(Y,rl);function Ke(t){return e.emitValue===!0?U.value(t):t}function Ue(t){if(t>-1&&t<s.value.length)if(e.multiple===!0){const d=e.modelValue.slice();m("remove",{index:t,value:d.splice(t,1)[0]}),m("update:modelValue",d)}else m("update:modelValue",null)}function We(t){Ue(t),f.focus()}function lt(t,d){const i=Ke(t);if(e.multiple!==!0){e.fillInput===!0&&Xe(G.value(t),!0,!0),m("update:modelValue",i);return}if(s.value.length===0){m("add",{index:0,value:i}),m("update:modelValue",e.multiple===!0?[i]:i);return}if(d===!0&&V(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const y=e.modelValue.slice();m("add",{index:y.length,value:i}),y.push(i),m("update:modelValue",y)}function he(t,d){if(f.editable.value!==!0||t===void 0||pe.value(t)===!0)return;const i=U.value(t);if(e.multiple!==!0){d!==!0&&(Xe(e.fillInput===!0?G.value(t):"",!0,!0),Ae()),L.value!==null&&L.value.focus(),(s.value.length===0||Ye(U.value(s.value[0]),i)!==!0)&&m("update:modelValue",e.emitValue===!0?i:t);return}if((p!==!0||w.value===!0)&&f.focus(),$(),s.value.length===0){const I=e.emitValue===!0?i:t;m("add",{index:0,value:I}),m("update:modelValue",e.multiple===!0?[I]:I);return}const y=e.modelValue.slice(),R=Be.value.findIndex(I=>Ye(I,i));if(R>-1)m("remove",{index:R,value:y.splice(R,1)[0]});else{if(e.maxValues!==void 0&&y.length>=e.maxValues)return;const I=e.emitValue===!0?i:t;m("add",{index:y.length,value:I}),y.push(I)}m("update:modelValue",y)}function ke(t){if(l.platform.is.desktop!==!0)return;const d=t>-1&&t<Y.value?t:-1;g.value!==d&&(g.value=d)}function Ie(t=1,d){if(o.value===!0){let i=g.value;do i=At(i+t,-1,Y.value-1);while(i!==-1&&i!==g.value&&pe.value(e.options[i])===!0);g.value!==i&&(ke(i),be(i),d!==!0&&e.useInput===!0&&e.fillInput===!0&&at(i>=0?G.value(e.options[i]):N))}}function it(t,d){const i=y=>Ye(U.value(y),t);return e.options.find(i)||d.find(i)||t}function a(t,d){const i=t!==void 0?t:d;return typeof i=="function"?i:y=>y!==null&&typeof y=="object"&&i in y?y[i]:y}function V(t){const d=U.value(t);return Be.value.find(i=>Ye(i,d))!==void 0}function $(t){e.useInput===!0&&L.value!==null&&(t===void 0||L.value===t.target&&t.target.value===Q.value)&&L.value.select()}function O(t){Vl(t,27)===!0&&o.value===!0&&(Re(t),Ae(),Oe()),m("keyup",t)}function j(t){const{value:d}=t.target;if(t.keyCode!==void 0){O(t);return}if(t.target.value="",v!==null&&(clearTimeout(v),v=null),Oe(),typeof d=="string"&&d.length!==0){const i=d.toLocaleLowerCase(),y=I=>{const H=e.options.find(J=>I.value(J).toLocaleLowerCase()===i);return H===void 0?!1:(s.value.indexOf(H)===-1?he(H):Ae(),!0)},R=I=>{y(U)!==!0&&(y(G)===!0||I===!0||$e(d,!0,()=>R(!0)))};R()}else f.clearValue(t)}function le(t){m("keypress",t)}function Fe(t){if(m("keydown",t),Ml(t)===!0)return;const d=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),i=t.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||d===!0);if(t.keyCode===27){ft(t);return}if(t.keyCode===9&&i===!1){Te();return}if(t.target===void 0||t.target.id!==f.targetUid.value)return;if(t.keyCode===40&&f.innerLoading.value!==!0&&o.value===!1){ze(t),Ee();return}if(t.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ue(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&m("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ze(t),g.value=-1,Ie(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Se.value!==void 0&&(ze(t),g.value=Math.max(-1,Math.min(Y.value,g.value+(t.keyCode===33?-1:1)*Se.value.view)),Ie(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ze(t),Ie(t.keyCode===38?-1:1,e.multiple));const y=Y.value;if((P===void 0||F<Date.now())&&(P=""),y>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||P.length!==0)){o.value!==!0&&Ee(t);const R=t.key.toLocaleLowerCase(),I=P.length===1&&P[0]===R;F=Date.now()+1500,I===!1&&(ze(t),P+=R);const H=new RegExp("^"+P.split("").map(ct=>Ul.indexOf(ct)>-1?"\\"+ct:ct).join(".*"),"i");let J=g.value;if(I===!0||J<0||H.test(G.value(e.options[J]))!==!0)do J=At(J+1,-1,y-1);while(J!==g.value&&(pe.value(e.options[J])===!0||H.test(G.value(e.options[J]))!==!0));g.value!==J&&we(()=>{ke(J),be(J),J>=0&&e.useInput===!0&&e.fillInput===!0&&at(G.value(e.options[J]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||i===!1))){if(t.keyCode!==9&&ze(t),g.value>-1&&g.value<y){he(e.options[g.value]);return}if(d===!0){const R=(I,H)=>{if(H){if($t(H)!==!0)return}else H=e.newValueMode;if(I==null)return;Xe("",e.multiple!==!0,!0),(H==="toggle"?he:lt)(I,H==="add-unique"),e.multiple!==!0&&(L.value!==null&&L.value.focus(),Ae())};if(e.onNewValue!==void 0?m("newValue",h.value,R):R(h.value),e.multiple!==!0)return}o.value===!0?Te():f.innerLoading.value!==!0&&Ee()}}function Le(){return p===!0?ve.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Xt(){return Le()}function Yt(){return e.hideSelected===!0?[]:c["selected-item"]!==void 0?ie.value.map(t=>c["selected-item"](t)).slice():c.selected!==void 0?[].concat(c.selected()):e.useChips===!0?ie.value.map((t,d)=>b(Kt,{key:"option-"+d,removable:f.editable.value===!0&&pe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ve.value,onRemove(){t.removeAtIndex(d)}},()=>b("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:G.value(t.opt)}))):[b("span",{[re.value===!0?"innerHTML":"textContent"]:x.value})]}function wt(){if(C.value===!0)return c["no-option"]!==void 0?c["no-option"]({inputValue:h.value}):void 0;const t=c.option!==void 0?c.option:i=>b(Qt,{key:i.index,...i.itemProps},()=>b(yt,()=>b(jt,()=>b("span",{[i.html===!0?"innerHTML":"textContent"]:i.label}))));let d=oe("div",se.value.map(t));return c["before-options"]!==void 0&&(d=c["before-options"]().concat(d)),ql(c["after-options"],d)}function Gt(t,d){const i=d===!0?{...Z.value,...f.splitAttrs.attributes.value}:void 0,y={ref:d===!0?L:void 0,key:"i_t",class:D.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...i,id:d===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...rt.value};return t!==!0&&p===!0&&(Array.isArray(y.class)===!0?y.class=[...y.class,"no-pointer-events"]:y.class+=" no-pointer-events"),b("input",y)}function Ct(t){v!==null&&(clearTimeout(v),v=null),!(t&&t.target&&t.target.qComposing===!0)&&(at(t.target.value||""),T=!0,N=h.value,f.focused.value!==!0&&(p!==!0||w.value===!0)&&f.focus(),e.onFilter!==void 0&&(v=setTimeout(()=>{v=null,$e(h.value)},e.inputDebounce)))}function at(t){h.value!==t&&(h.value=t,m("inputValue",t))}function Xe(t,d,i){T=i!==!0,e.useInput===!0&&(at(t),(d===!0||i!==!0)&&(N=t),d!==!0&&$e(t))}function $e(t,d,i){if(e.onFilter===void 0||d!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?m("filterAbort"):(f.innerLoading.value=!0,r.value=!0),t!==""&&e.multiple!==!0&&s.value.length!==0&&T!==!0&&t===G.value(s.value[0])&&(t="");const y=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);_!==null&&clearTimeout(_),_=y,m("filter",t,(R,I)=>{(d===!0||f.focused.value===!0)&&_===y&&(clearTimeout(_),typeof R=="function"&&R(),r.value=!1,we(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(d===!0?o.value===!0&&Ae():o.value===!0?st(!0):o.value=!0),typeof I=="function"&&we(()=>{I(u)}),typeof i=="function"&&we(()=>{i(u)})}))},()=>{f.focused.value===!0&&_===y&&(clearTimeout(_),f.innerLoading.value=!1,r.value=!1),o.value===!0&&(o.value=!1)})}function Jt(){return b(Rt,{ref:ee,class:q.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:k.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Me.value,onScrollPassive:ge,onBeforeShow:Vt,onBeforeHide:Zt,onShow:el},wt)}function Zt(t){Mt(t),Te()}function el(){ye()}function tl(t){Re(t),L.value!==null&&L.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ll(t){Re(t),we(()=>{w.value=!1})}function al(){const t=[b(Nl,{class:`col-auto ${f.fieldClass.value}`,...S.value,for:f.targetUid.value,dark:k.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...f.splitAttrs.listeners.value,onFocus:tl,onBlur:ll},{...c,rawControl:()=>f.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&t.push(b("div",{ref:ve,class:q.value+" scroll",style:e.popupContentStyle,...Me.value,onClick:ft,onScrollPassive:ge},wt())),b(Ot,{ref:ne,modelValue:A.value,position:e.useInput===!0?"top":void 0,transitionShow:K,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Vt,onBeforeHide:nl,onHide:ul,onShow:ol},()=>b("div",{class:"q-select__dialog"+(k.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},t))}function nl(t){Mt(t),ne.value!==null&&ne.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function ul(t){Ae(),f.focused.value===!1&&m("blur",t),Oe()}function ol(){const t=document.activeElement;(t===null||t.id!==f.targetUid.value)&&L.value!==null&&L.value!==t&&L.value.focus(),ye()}function Te(){A.value!==!0&&(g.value=-1,o.value===!0&&(o.value=!1),f.focused.value===!1&&(_!==null&&(clearTimeout(_),_=null),f.innerLoading.value===!0&&(m("filterAbort"),f.innerLoading.value=!1,r.value=!1)))}function Ee(t){f.editable.value===!0&&(p===!0?(f.onControlFocusin(t),A.value=!0,we(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?$e(h.value):(C.value!==!0||c["no-option"]!==void 0)&&(o.value=!0))}function Ae(){A.value=!1,Te()}function Oe(){e.useInput===!0&&Xe(e.multiple!==!0&&e.fillInput===!0&&s.value.length!==0&&G.value(s.value[0])||"",!0,!0)}function st(t){let d=-1;if(t===!0){if(s.value.length!==0){const i=U.value(s.value[0]);d=e.options.findIndex(y=>Ye(U.value(y),i))}me(d)}ke(d)}function rl(t,d){o.value===!0&&f.innerLoading.value===!1&&(me(-1,!0),we(()=>{o.value===!0&&f.innerLoading.value===!1&&(t>d?me():st(!0))}))}function xt(){A.value===!1&&ee.value!==null&&ee.value.updatePosition()}function Vt(t){t!==void 0&&Re(t),m("popupShow",t),f.hasPopupOpen=!0,f.onControlFocusin(t)}function Mt(t){t!==void 0&&Re(t),m("popupHide",t),f.hasPopupOpen=!1,f.onControlFocusout(t)}function _t(){p=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?c["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),K=l.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return Cl(_t),xl(xt),_t(),pt(()=>{v!==null&&clearTimeout(v)}),Object.assign(u,{showPopup:Ee,hidePopup:Ae,removeAtIndex:Ue,add:lt,toggleOption:he,getOptionIndex:()=>g.value,setOptionIndex:ke,moveOptionSelection:Ie,filter:$e,updateMenuPosition:xt,updateInputValue:Xe,isOptionSelected:V,getEmittingOptionValue:Ke,isOptionDisabled:(...t)=>pe.value.apply(null,t)===!0,getOptionValue:(...t)=>U.value.apply(null,t),getOptionLabel:(...t)=>G.value.apply(null,t)}),Object.assign(f,{innerValue:s,fieldClass:n(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:L,hasValue:E,showPopup:Ee,floatingLabel:n(()=>e.hideSelected!==!0&&E.value===!0||typeof h.value=="number"||h.value.length!==0||qt(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(A.value===!0||C.value!==!0||c["no-option"]!==void 0))return p===!0?al():Jt();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(t){f.onControlFocusin(t)},onFocusout(t){f.onControlFocusout(t,()=>{Oe(),Te()})},onClick(t){if(ft(t),p!==!0&&o.value===!0){Te(),L.value!==null&&L.value.focus();return}Ee(t)}},getControl:t=>{const d=Yt(),i=t===!0||A.value!==!0||p!==!0;if(e.useInput===!0)d.push(Gt(t,i));else if(f.editable.value===!0){const R=i===!0?Z.value:void 0;d.push(b("input",{ref:i===!0?L:void 0,key:"d_t",class:"q-select__focus-target",id:i===!0?f.targetUid.value:void 0,value:x.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...R,onKeydown:Fe,onKeyup:O,onKeypress:le})),i===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&d.push(b("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:j}))}if(ue.value!==void 0&&e.disable!==!0&&Be.value.length!==0){const R=Be.value.map(I=>b("option",{value:I,selected:!0}));d.push(b("select",{class:"hidden",name:ue.value,multiple:e.multiple},R))}const y=e.useInput===!0||i!==!0?void 0:f.splitAttrs.attributes.value;return b("div",{class:"q-field__native row items-center",...y,...f.splitAttrs.listeners.value},d)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[b(ut,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:_e.value})]:null}),Ht(f)}});const Yl={__name:"SimpleSelect",props:{options:Array,selected:{type:String,default:null},disable:Boolean},emits:["update:model-value"],setup(e,{emit:c}){return(m,u)=>(ce(),nt(Xl,{options:e.options,"model-value":e.selected,"onUpdate:modelValue":u[0]||(u[0]=l=>{m.$emit("update:model-value",l)}),dense:"","options-dense":"",filled:"",disable:e.disable},Al({_:2},[e.selected===null?{name:"append",fn:de(()=>[X(ut,{name:"help",size:"xs",color:"orange-5"})]),key:"0"}:void 0]),1032,["options","model-value","disable"]))}},Gl="The components of an atom",Jl=`Atoms are made of protons, neutrons and electrons. <<1>> are positively charged, <<2>> 
<<4>> and <<5>> are together in the nucleus, whereas <<6>> are distributed in orbitals around the nucleus.`,Zl=[{type:"text",text:"Atoms are made of protons, neutrons and electrons."},{type:"select",defaultMessage:"Protons are the positively charged particles in the atom. Electrons are negative and neutrons have no charge.",options:[{label:"Protons",correct:!0},{label:"Electrons",message:"Electrons are negatively charged. The positively charged particles are called Protons."},{label:"Neutrons",message:"Neutrons don't have a charge (their charge is zero). The positively charged particles are called Protons."}]},{type:"text",text:"are positively charged,"},{type:"select",options:[{label:"electrons",correct:!0},{label:"protons",message:"Protons are positively charged. The negatively charged particles are called Electrons."},{label:"neutrons",message:"Neutrons don't have a charge (their charge is zero). The negatively charged particles are called Electrons."}]},{type:"text",text:"are negatively charged, and"},{type:"select",options:[{label:"neutrons",correct:!0,message:"Neutrons don't have a charge (their charge is zero)."},{label:"electrons",message:"Electrons are negatively charged. The particles with no charge are called Neutrons."},{label:"protons",message:"Protons are positively charged. The particles with no charge are called Neutrons."}]},{type:"text",text:"have no charge."},{type:"select",points:3,options:[{label:"Neutrons",correct:!0},{label:"Electrons",message:"Electrons are not in the nucleus."}]},{type:"text",text:"and"},{type:"select",options:[{label:"protons",correct:!0},{label:"electrons",message:"Electrons are not in the nucleus."}]},{type:"text",text:"are together in the nucleus, whereas"},{type:"select",options:[{label:"electrons",correct:!0,message:"Electrons are not in the nucleus."},{label:"neutrons",message:"Neutrons are not in orbitals, they are in the nucleus together with protons."},{label:"protons",message:"Protons are not in orbitals, they are in the nucleus together with neutrons."}]},{type:"text",text:"are distributed in orbitals around the nucleus."}];var bt={title:Gl,question:Jl,fragments:Zl};const ea={class:"q-pa-sm"},ta={class:"buttons"},la={class:"column"},aa={__name:"QuestionLoader",setup(e){const c=z(!0),m=z(!0),u=z({});let l=0;bt.fragments.forEach((h,w)=>{h.type==="select"&&(u.value[w]={type:h.type},u.value[w].selected=null,u.value[w].message=h.defaultMessage||null,u.value[w].correctAnswers=h.options.filter(r=>r.correct).map(r=>r.label),u.value[w].baseScore=Number(h.points)||1,u.value[w].multiplier=m.value?-1:0,u.value[w].score=0,l+=h.points?Number(h.points):1)});const o=z(!1);function A(){o.value=!o.value}const g=n(()=>Math.max(0,Object.values(u.value).map(h=>h.score).reduce((h,w)=>h+w,0)));return(h,w)=>(ce(),Pe(Je,null,[Ge("div",ea,[Ge("p",{class:mt(["text-h5 q-my-md text-bold",!h.$q.dark.isActive||"text-white"])},Ne(gt(bt).title),3),X(ht,{class:"q-mb-sm"}),(ce(!0),Pe(Je,null,Bl(gt(bt).fragments,(r,v)=>(ce(),Pe(Je,{key:v},[r.type==="text"?(ce(),Pe("span",{key:0,class:mt(["question-text",!h.$q.dark.isActive||"text-white"])},Ne(r.text),3)):r.type==="select"?(ce(),Pe(Je,{key:1},[X(Yl,{options:r.options,selected:u.value[v].selected,disable:o.value,style:{display:"inline-block"},"onUpdate:modelValue":M=>{if(u.value[v].selected=M.label,u.value[v].message=M.message||r.defaultMessage||null,M.label===null){u.value[v].score=0;return}u.value[v].correctAnswers.includes(M.label)?u.value[v].score=u.value[v].baseScore:u.value[v].score=u.value[v].baseScore*u.value[v].multiplier}},null,8,["options","selected","disable","onUpdate:modelValue"]),c.value||o.value?(ce(),Pe(Je,{key:0},[u.value[v].message?(ce(),nt(zt,{key:0,icon:"info",round:"",dense:"",flat:"",color:u.value[v].score>0?"positive":"negative"},{default:de(()=>[X(Fl,null,{default:de(()=>[X(Il,{class:mt(u.value[v].score>0?"bg-green-1":"bg-red-1")},{avatar:de(()=>[X(ut,{name:u.value[v].score>0?"check":"close",color:u.value[v].score>0?"positive":"negative"},null,8,["name","color"])]),default:de(()=>[Ge("span",null,Ne(u.value[v].message),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["color"])):Ze("",!0),X(Kt,{color:u.value[v].score>0?"positive":"negative","text-color":"white"},{default:de(()=>[It(Ne(u.value[v].score>0?"+":"")+Ne(u.value[v].score<0?"-":"")+Ne(u.value[v].score),1)]),_:2},1032,["color"])],64)):Ze("",!0)],64)):Ze("",!0)],64))),128)),Ge("div",ta,[c.value?Ze("",!0):(ce(),nt(zt,{key:0,onClick:A,label:"Check",color:"primary",disable:o.value},null,8,["disable"]))])]),X(ht),Ge("div",la,[c.value||o.value?(ce(),nt(Qt,{key:0},{default:de(()=>[X(yt,{side:"",top:""},{default:de(()=>[X(jt,{caption:""},{default:de(()=>[It("Score:")]),_:1}),X(ut,{name:"analytics",size:"xl",color:"primary"})]),_:1}),X(yt,null,{default:de(()=>[X(Pl,{modelValue:g.value,"onUpdate:modelValue":w[0]||(w[0]=r=>g.value=r),"marker-labels":"",min:0,max:gt(l),class:"q-px-lg",style:{"max-width":"50%"},readonly:""},null,8,["modelValue","max"])]),_:1})]),_:1})):Ze("",!0),X(ht),X(Bt,{color:"grey",modelValue:m.value,"onUpdate:modelValue":w[1]||(w[1]=r=>m.value=r),label:"Subtract incorrect scores",disable:"",title:"Toggling not yet implemented. Cannot be switched off at present"},null,8,["modelValue"]),X(Bt,{modelValue:c.value,"onUpdate:modelValue":w[2]||(w[2]=r=>c.value=r),label:"Show instant feedback"},null,8,["modelValue"])])],64))}};var oa=zl(aa,[["__scopeId","data-v-e5e6167a"]]);export{oa as default};
