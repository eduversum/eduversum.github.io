import{u as Ee,v as rt,x as it,c as u,h as d,g as de,y as Ie,z as Al,r as _,A as Bl,w as re,B as Zt,C as Jt,D as Gt,E as Ml,G as $l,H as el,R as Rl,I as Ve,J as zl,K as qe,L as Ye,M as tl,N as We,O as Fl,P as Il,S as yt,U as El,V as Ll,W as Tl,i as Ol,X as Pl,o as ll,Y as al,Z as nl,$ as Nl,a0 as ke,a1 as ol,a2 as ul,a3 as Hl,a4 as Be,a5 as Dl,a6 as jl,a7 as Ql,a8 as Ul,b as Kl,a9 as Wl,aa as Xl,ab as Yl,ac as lt,ad as Ot,ae as Zl,af as Qe,ag as Jl,ah as Bt,ai as rl,aj as il,ak as Gl,k as ye,al as mt,am as ea,p as Ce,f as le,_ as ta,l as Ue,m as at,n as Ct,t as Ke,an as xt,F as nt,ao as la,Q as Pt,ap as ot,aq as Nt,q as Ht}from"./index.bfc870c6.js";const aa={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},wt={xs:2,sm:4,md:8,lg:16,xl:24};var kt=Ee({name:"QSeparator",props:{...rt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=de(),o=it(e,l.proxy.$q),n=u(()=>e.vertical===!0?"vertical":"horizontal"),a=u(()=>` q-separator--${n.value}`),r=u(()=>e.inset!==!1?`${a.value}-${aa[e.inset]}`:""),p=u(()=>`q-separator${a.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),c=u(()=>{const f={};if(e.size!==void 0&&(f[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const C=e.spaced===!0?`${wt.md}px`:e.spaced in wt?`${wt[e.spaced]}px`:e.spaced,s=e.vertical===!0?["Left","Right"]:["Top","Bottom"];f[`margin${s[0]}`]=f[`margin${s[1]}`]=C}return f});return()=>d("hr",{class:p.value,style:c.value,"aria-orientation":n.value})}}),na=Ee({name:"QBanner",props:{...rt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:o}}=de(),n=it(e,o),a=u(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),r=u(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const p=[d("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ie(l.avatar)),d("div",{class:"q-banner__content col text-body2"},Ie(l.default))],c=Ie(l.action);return c!==void 0&&p.push(d("div",{class:r.value},c)),d("div",{class:a.value+(e.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},p)}}}),oa=Ee({name:"QPopupProxy",props:{...Al,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:l,emit:o,attrs:n}){const{proxy:a}=de(),{$q:r}=a,p=_(!1),c=_(null),f=u(()=>parseInt(e.breakpoint,10)),{canShow:C}=Bl({showing:p});function s(){return r.screen.width<f.value||r.screen.height<f.value?"dialog":"menu"}const v=_(s()),q=u(()=>v.value==="menu"?{maxHeight:"99vh"}:{});re(()=>s(),k=>{p.value!==!0&&(v.value=k)});function x(k){p.value=!0,o("show",k)}function R(k){p.value=!1,v.value=s(),o("hide",k)}return Object.assign(a,{show(k){C(k)===!0&&c.value.show(k)},hide(k){c.value.hide(k)},toggle(k){c.value.toggle(k)}}),Zt(a,"currentComponent",()=>({type:v.value,ref:c.value})),()=>{const k={ref:c,...q.value,...n,onShow:x,onHide:R};let y;return v.value==="dialog"?y=Jt:(y=Gt,Object.assign(k,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),d(y,k,l.default)}}});const ua={xs:8,sm:10,md:14,lg:20,xl:24};var sl=Ee({name:"QChip",props:{...rt,...Ml,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:n}}=de(),a=it(e,n),r=$l(e,ua),p=u(()=>e.selected===!0||e.icon!==void 0),c=u(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),f=u(()=>e.iconRemove||n.iconSet.chip.remove),C=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=u(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(C.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),v=u(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},L={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:y,remove:L}});function q(y){y.keyCode===13&&x(y)}function x(y){e.disable||(o("update:selected",!e.selected),o("click",y))}function R(y){(y.keyCode===void 0||y.keyCode===13)&&(qe(y),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function k(){const y=[];C.value===!0&&y.push(d("div",{class:"q-focus-helper"})),p.value===!0&&y.push(d(Ve,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const L=e.label!==void 0?[d("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(d("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},zl(l.default,L))),e.iconRight&&y.push(d(Ve,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(d(Ve,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...v.value.remove,onClick:R,onKeyup:R})),y}return()=>{if(e.modelValue===!1)return;const y={class:s.value,style:r.value};return C.value===!0&&Object.assign(y,v.value.chip,{onClick:x,onKeyup:q}),el("div",y,k(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Rl,e.ripple]])}}});const Dt="q-slider__marker-labels",ra=e=>({value:e}),ia=({marker:e})=>d("div",{key:e.value,style:e.style,class:e.classes},e.label),cl=[34,37,40,33,39,38],sa={...rt,...tl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ca=["pan","update:modelValue","change"];function da({updateValue:e,updatePosition:l,getDragging:o,formAttrs:n}){const{props:a,emit:r,slots:p,proxy:{$q:c}}=de(),f=it(a,c),C=Ll(n),s=_(!1),v=_(!1),q=_(!1),x=_(!1),R=u(()=>a.vertical===!0?"--v":"--h"),k=u(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),y=u(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(c.lang.rtl===!0)),L=u(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),O=u(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),T=u(()=>a.disable!==!0&&a.readonly!==!0&&L.value<O.value),z=u(()=>(String(a.step).trim().split(".")[1]||"").length),F=u(()=>a.step===0?1:a.step),N=u(()=>T.value===!0?a.tabindex||0:-1),U=u(()=>a.max-a.min),K=u(()=>O.value-L.value),ie=u(()=>be(L.value)),oe=u(()=>be(O.value)),Z=u(()=>a.vertical===!0?y.value===!0?"bottom":"top":y.value===!0?"right":"left"),ve=u(()=>a.vertical===!0?"height":"width"),xe=u(()=>a.vertical===!0?"width":"height"),he=u(()=>a.vertical===!0?"vertical":"horizontal"),ue=u(()=>{const i={role:"slider","aria-valuemin":L.value,"aria-valuemax":O.value,"aria-orientation":he.value,"data-step":a.step};return a.disable===!0?i["aria-disabled"]="true":a.readonly===!0&&(i["aria-readonly"]="true"),i}),se=u(()=>`q-slider q-slider${R.value} q-slider--${s.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(T.value===!0?" q-slider--editable":""))+(q.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(f.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+R.value:""));function S(i){const $="q-slider__"+i;return`${$} ${$}${R.value} ${$}${R.value}${k.value}`}function E(i){const $="q-slider__"+i;return`${$} ${$}${R.value}`}const fe=u(()=>{const i=a.selectionColor||a.color;return"q-slider__selection absolute"+(i!==void 0?` text-${i}`:"")}),h=u(()=>E("markers")+" absolute overflow-hidden"),g=u(()=>E("track-container")),w=u(()=>S("pin")),A=u(()=>S("label")),D=u(()=>S("text-container")),X=u(()=>S("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),I=u(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),B=u(()=>{const i={[xe.value]:a.trackSize};return a.trackImg!==void 0&&(i.backgroundImage=`url(${a.trackImg}) !important`),i}),J=u(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),M=u(()=>{const i={[Z.value]:`${100*ie.value}%`,[ve.value]:`${100*(oe.value-ie.value)}%`};return a.innerTrackImg!==void 0&&(i.backgroundImage=`url(${a.innerTrackImg}) !important`),i});function te(i){const{min:$,max:H,step:j}=a;let Y=$+i*(H-$);if(j>0){const me=(Y-$)%j;Y+=(Math.abs(me)>=j/2?(me<0?-1:1)*j:0)-me}return z.value>0&&(Y=parseFloat(Y.toFixed(z.value))),We(Y,L.value,O.value)}function be(i){return U.value===0?0:(i-a.min)/U.value}function Me(i,$){const H=Fl(i),j=a.vertical===!0?We((H.top-$.top)/$.height,0,1):We((H.left-$.left)/$.width,0,1);return We(y.value===!0?1-j:j,ie.value,oe.value)}const ce=u(()=>Il(a.markers)===!0?a.markers:F.value),$e=u(()=>{const i=[],$=ce.value,H=a.max;let j=a.min;do i.push(j),j+=$;while(j<H);return i.push(H),i}),pe=u(()=>{const i=` ${Dt}${R.value}-`;return Dt+`${i}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${i}${y.value===!0?"rtl":"ltr"}`}),Se=u(()=>a.markerLabels===!1?null:Ze(a.markerLabels).map((i,$)=>({index:$,value:i.value,label:i.label||i.value,classes:pe.value+(i.classes!==void 0?" "+i.classes:""),style:{...G(i.value),...i.style||{}}}))),Re=u(()=>({markerList:Se.value,markerMap:ae.value,classes:pe.value,getStyle:G})),ze=u(()=>{if(K.value!==0){const i=100*ce.value/K.value;return{...M.value,backgroundSize:a.vertical===!0?`2px ${i}%`:`${i}% 2px`}}return null});function Ze(i){if(i===!1)return null;if(i===!0)return $e.value.map(ra);if(typeof i=="function")return $e.value.map(H=>{const j=i(H);return yt(j)===!0?{...j,value:H}:{value:H,label:j}});const $=({value:H})=>H>=a.min&&H<=a.max;return Array.isArray(i)===!0?i.map(H=>yt(H)===!0?H:{value:H}).filter($):Object.keys(i).map(H=>{const j=i[H],Y=Number(H);return yt(j)===!0?{...j,value:Y}:{value:Y,label:j}}).filter($)}function G(i){return{[Z.value]:`${100*(i-a.min)/U.value}%`}}const ae=u(()=>{if(a.markerLabels===!1)return null;const i={};return Se.value.forEach($=>{i[$.value]=$}),i});function _e(){if(p["marker-label-group"]!==void 0)return p["marker-label-group"](Re.value);const i=p["marker-label"]||ia;return Se.value.map($=>i({marker:$,...Re.value}))}const Le=u(()=>[[El,ht,void 0,{[he.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ht(i){i.isFinal===!0?(x.value!==void 0&&(l(i.evt),i.touch===!0&&e(!0),x.value=void 0,r("pan","end")),s.value=!1,q.value=!1):i.isFirst===!0?(x.value=o(i.evt),l(i.evt),e(),s.value=!0,r("pan","start")):(l(i.evt),e())}function Je(){q.value=!1}function Ge(i){l(i,o(i)),e(),v.value=!0,s.value=!0,document.addEventListener("mouseup",et,!0)}function et(){v.value=!1,s.value=!1,e(!0),Je(),document.removeEventListener("mouseup",et,!0)}function st(i){l(i,o(i)),e(!0)}function we(i){cl.includes(i.keyCode)&&e(!0)}function Ae(i){if(a.vertical===!0)return null;const $=c.lang.rtl!==a.reverse?1-i:i;return{transform:`translateX(calc(${2*$-1} * ${a.thumbSize} / 2 + ${50-100*$}%))`}}function Te(i){const $=u(()=>v.value===!1&&(q.value===i.focusValue||q.value==="both")?" q-slider--focus":""),H=u(()=>`q-slider__thumb q-slider__thumb${R.value} q-slider__thumb${R.value}-${y.value===!0?"rtl":"ltr"} absolute non-selectable`+$.value+(i.thumbColor.value!==void 0?` text-${i.thumbColor.value}`:"")),j=u(()=>({width:a.thumbSize,height:a.thumbSize,[Z.value]:`${100*i.ratio.value}%`,zIndex:q.value===i.focusValue?2:void 0})),Y=u(()=>i.labelColor.value!==void 0?` text-${i.labelColor.value}`:""),me=u(()=>Ae(i.ratio.value)),Oe=u(()=>"q-slider__text"+(i.labelTextColor.value!==void 0?` text-${i.labelTextColor.value}`:""));return()=>{const Pe=[d("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[d("path",{d:a.thumbPath})]),d("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(Pe.push(d("div",{class:w.value+" absolute fit no-pointer-events"+Y.value},[d("div",{class:A.value,style:{minWidth:a.thumbSize}},[d("div",{class:D.value,style:me.value},[d("span",{class:Oe.value},i.label.value)])])])),a.name!==void 0&&a.disable!==!0&&C(Pe,"push")),d("div",{class:H.value,style:j.value,...i.getNodeData()},Pe)}}function bt(i,$,H,j){const Y=[];a.innerTrackColor!=="transparent"&&Y.push(d("div",{key:"inner",class:J.value,style:M.value})),a.selectionColor!=="transparent"&&Y.push(d("div",{key:"selection",class:fe.value,style:i.value})),a.markers!==!1&&Y.push(d("div",{key:"marker",class:h.value,style:ze.value})),j(Y);const me=[el("div",{key:"trackC",class:g.value,tabindex:$.value,...H.value},[d("div",{class:I.value,style:B.value},Y)],"slide",T.value,()=>Le.value)];if(a.markerLabels!==!1){const Oe=a.switchMarkerLabelsSide===!0?"unshift":"push";me[Oe](d("div",{key:"markerL",class:X.value},_e()))}return me}return Ye(()=>{document.removeEventListener("mouseup",et,!0)}),{state:{active:s,focus:q,preventFocus:v,dragging:x,editable:T,classes:se,tabindex:N,attributes:ue,step:F,decimals:z,trackLen:U,innerMin:L,innerMinRatio:ie,innerMax:O,innerMaxRatio:oe,positionProp:Z,sizeProp:ve,isReversed:y},methods:{onActivate:Ge,onMobileClick:st,onBlur:Je,onKeyup:we,getContent:bt,getThumbRenderFn:Te,convertRatioToModel:te,convertModelToRatio:be,getDraggingRatio:Me}}}const va=()=>({});var fa=Ee({name:"QSlider",props:{...sa,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ca,setup(e,{emit:l}){const{proxy:{$q:o}}=de(),{state:n,methods:a}=da({updateValue:R,updatePosition:y,getDragging:k,formAttrs:Tl(e)}),r=_(null),p=_(0),c=_(0);function f(){c.value=e.modelValue===null?n.innerMin.value:We(e.modelValue,n.innerMin.value,n.innerMax.value)}re(()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,f),f();const C=u(()=>a.convertModelToRatio(c.value)),s=u(()=>n.active.value===!0?p.value:C.value),v=u(()=>{const T={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(s.value-n.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(T.backgroundImage=`url(${e.selectionImg}) !important`),T}),q=a.getThumbRenderFn({focusValue:!0,getNodeData:va,ratio:s,label:u(()=>e.labelValue!==void 0?e.labelValue:c.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),x=u(()=>n.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:L,onBlur:a.onBlur,onKeydown:O,onKeyup:a.onKeyup});function R(T){c.value!==e.modelValue&&l("update:modelValue",c.value),T===!0&&l("change",c.value)}function k(){return r.value.getBoundingClientRect()}function y(T,z=n.dragging.value){const F=a.getDraggingRatio(T,z);c.value=a.convertRatioToModel(F),p.value=e.snap!==!0||e.step===0?F:a.convertModelToRatio(c.value)}function L(){n.focus.value=!0}function O(T){if(!cl.includes(T.keyCode))return;qe(T);const z=([34,33].includes(T.keyCode)?10:1)*n.step.value,F=([34,37,40].includes(T.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*z;c.value=We(parseFloat((c.value+F).toFixed(n.decimals.value)),n.innerMin.value,n.innerMax.value),R()}return()=>{const T=a.getContent(v,n.tabindex,x,z=>{z.push(q())});return d("div",{ref:r,class:n.classes.value+(e.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},T)}}});function ma({validate:e,resetValidation:l,requiresQForm:o}){const n=Ol(Pl,!1);if(n!==!1){const{props:a,proxy:r}=de();Object.assign(r,{validate:e,resetValidation:l}),re(()=>a.disable,p=>{p===!0?(typeof l=="function"&&l(),n.unbindComponent(r)):n.bindComponent(r)}),ll(()=>{a.disable!==!0&&n.bindComponent(r)}),Ye(()=>{a.disable!==!0&&n.unbindComponent(r)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const jt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Qt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ut=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,dt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,vt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,qt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>jt.test(e),hexaColor:e=>Qt.test(e),hexOrHexaColor:e=>Ut.test(e),rgbColor:e=>dt.test(e),rgbaColor:e=>vt.test(e),rgbOrRgbaColor:e=>dt.test(e)||vt.test(e),hexOrRgbColor:e=>jt.test(e)||dt.test(e),hexaOrRgbaColor:e=>Qt.test(e)||vt.test(e),anyColor:e=>Ut.test(e)||dt.test(e)||vt.test(e)},ga=[!0,!1,"ondemand"],ha={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>ga.includes(e)}};function ba(e,l){const{props:o,proxy:n}=de(),a=_(!1),r=_(null),p=_(null);ma({validate:R,resetValidation:x});let c=0,f;const C=u(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),s=u(()=>o.disable!==!0&&C.value===!0),v=u(()=>o.error===!0||a.value===!0),q=u(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:r.value);re(()=>o.modelValue,()=>{k()}),re(()=>o.reactiveRules,L=>{L===!0?f===void 0&&(f=re(()=>o.rules,()=>{k(!0)})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),re(e,L=>{L===!0?p.value===null&&(p.value=!1):p.value===!1&&(p.value=!0,s.value===!0&&o.lazyRules!=="ondemand"&&l.value===!1&&y())});function x(){c++,l.value=!1,p.value=null,a.value=!1,r.value=null,y.cancel()}function R(L=o.modelValue){if(s.value!==!0)return!0;const O=++c,T=l.value!==!0?()=>{p.value=!0}:()=>{},z=(N,U)=>{N===!0&&T(),a.value=N,r.value=U||null,l.value=!1},F=[];for(let N=0;N<o.rules.length;N++){const U=o.rules[N];let K;if(typeof U=="function"?K=U(L,qt):typeof U=="string"&&qt[U]!==void 0&&(K=qt[U](L)),K===!1||typeof K=="string")return z(!0,K),!1;K!==!0&&K!==void 0&&F.push(K)}return F.length===0?(z(!1),!0):(l.value=!0,Promise.all(F).then(N=>{if(N===void 0||Array.isArray(N)===!1||N.length===0)return O===c&&z(!1),!0;const U=N.find(K=>K===!1||typeof K=="string");return O===c&&z(U!==void 0,U),U===void 0},N=>(O===c&&(console.error(N),z(!0)),!1)))}function k(L){s.value===!0&&o.lazyRules!=="ondemand"&&(p.value===!0||o.lazyRules!==!0&&L!==!0)&&y()}const y=al(R,0);return Ye(()=>{f!==void 0&&f(),y.cancel()}),Object.assign(n,{resetValidation:x,validate:R}),Zt(n,"hasError",()=>v.value),{isDirtyModel:p,hasRules:C,hasError:v,errorMessage:q,validate:R,resetValidation:x}}const Kt=/^on[A-Z]/;function pa(e,l){const o={listeners:_({}),attributes:_({})};function n(){const a={},r={};for(const p in e)p!=="class"&&p!=="style"&&Kt.test(p)===!1&&(a[p]=e[p]);for(const p in l.props)Kt.test(p)===!0&&(r[p]=l.props[p]);o.attributes.value=a,o.listeners.value=r}return nl(n),n(),o}let Vt,ft=0;const ee=new Array(256);for(let e=0;e<256;e++)ee[e]=(e+256).toString(16).substring(1);const Sa=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const o=new Uint8Array(l);return e.getRandomValues(o),o}}return l=>{const o=[];for(let n=l;n>0;n--)o.push(Math.floor(Math.random()*256));return o}})(),Wt=4096;function ya(){(Vt===void 0||ft+16>Wt)&&(ft=0,Vt=Sa(Wt));const e=Array.prototype.slice.call(Vt,ft,ft+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ee[e[0]]+ee[e[1]]+ee[e[2]]+ee[e[3]]+"-"+ee[e[4]]+ee[e[5]]+"-"+ee[e[6]]+ee[e[7]]+"-"+ee[e[8]]+ee[e[9]]+"-"+ee[e[10]]+ee[e[11]]+ee[e[12]]+ee[e[13]]+ee[e[14]]+ee[e[15]]}function Mt(e){return e===void 0?`f_${ya()}`:e}function $t(e){return e!=null&&(""+e).length!==0}const Rt={...rt,...ha,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},dl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function vl(){const{props:e,attrs:l,proxy:o,vnode:n}=de();return{isDark:it(e,o.$q),editable:u(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:_(!1),focused:_(!1),hasPopupOpen:!1,splitAttrs:pa(l,n),targetUid:_(Mt(e.for)),rootRef:_(null),targetRef:_(null),controlRef:_(null)}}function fl(e){const{props:l,emit:o,slots:n,attrs:a,proxy:r}=de(),{$q:p}=r;let c=null;e.hasValue===void 0&&(e.hasValue=u(()=>$t(l.modelValue))),e.emitValue===void 0&&(e.emitValue=S=>{o("update:modelValue",S)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:ie,onFocusout:oe}),Object.assign(e,{clearValue:Z,onControlFocusin:ie,onControlFocusout:oe,focus:U}),e.computedCounter===void 0&&(e.computedCounter=u(()=>{if(l.counter!==!1){const S=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,E=l.maxlength!==void 0?l.maxlength:l.maxValues;return S+(E!==void 0?" / "+E:"")}}));const{isDirtyModel:f,hasRules:C,hasError:s,errorMessage:v,resetValidation:q}=ba(e.focused,e.innerLoading),x=e.floatingLabel!==void 0?u(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):u(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),R=u(()=>l.bottomSlots===!0||l.hint!==void 0||C.value===!0||l.counter===!0||l.error!==null),k=u(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),y=u(()=>`q-field row no-wrap items-start q-field--${k.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(x.value===!0?" q-field--float":"")+(O.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&R.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),L=u(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(s.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),O=u(()=>l.labelSlot===!0||l.label!==void 0),T=u(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&s.value!==!0?` text-${l.labelColor}`:"")),z=u(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:x.value,modelValue:l.modelValue,emitValue:e.emitValue})),F=u(()=>{const S={for:e.targetUid.value};return l.disable===!0?S["aria-disabled"]="true":l.readonly===!0&&(S["aria-readonly"]="true"),S});re(()=>l.for,S=>{e.targetUid.value=Mt(S)});function N(){const S=document.activeElement;let E=e.targetRef!==void 0&&e.targetRef.value;E&&(S===null||S.id!==e.targetUid.value)&&(E.hasAttribute("tabindex")===!0||(E=E.querySelector("[tabindex]")),E&&E!==S&&E.focus({preventScroll:!0}))}function U(){Nl(N)}function K(){Dl(N);const S=document.activeElement;S!==null&&e.rootRef.value.contains(S)&&S.blur()}function ie(S){c!==null&&(clearTimeout(c),c=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",S))}function oe(S,E){c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",S)),E!==void 0&&E())})}function Z(S){qe(S),p.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",l.modelValue),ke(()=>{q(),p.platform.is.mobile!==!0&&(f.value=!1)})}function ve(){const S=[];return n.prepend!==void 0&&S.push(d("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Be},n.prepend())),S.push(d("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},xe())),s.value===!0&&l.noErrorIcon===!1&&S.push(ue("error",[d(Ve,{name:p.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?S.push(ue("inner-loading-append",n.loading!==void 0?n.loading():[d(jl,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&S.push(ue("inner-clearable-append",[d(Ve,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||p.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:Z})])),n.append!==void 0&&S.push(d("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Be},n.append())),e.getInnerAppend!==void 0&&S.push(ue("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&S.push(e.getControlChild()),S}function xe(){const S=[];return l.prefix!==void 0&&l.prefix!==null&&S.push(d("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&S.push(e.getShadowControl()),e.getControl!==void 0?S.push(e.getControl()):n.rawControl!==void 0?S.push(n.rawControl()):n.control!==void 0&&S.push(d("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},n.control(z.value))),O.value===!0&&S.push(d("div",{class:T.value},Ie(n.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&S.push(d("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),S.concat(Ie(n.default))}function he(){let S,E;s.value===!0?v.value!==null?(S=[d("div",{role:"alert"},v.value)],E=`q--slot-error-${v.value}`):(S=Ie(n.error),E="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(S=[d("div",l.hint)],E=`q--slot-hint-${l.hint}`):(S=Ie(n.hint),E="q--slot-hint"));const fe=l.counter===!0||n.counter!==void 0;if(l.hideBottomSpace===!0&&fe===!1&&S===void 0)return;const h=d("div",{key:E,class:"q-field__messages col"},S);return d("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:Be},[l.hideBottomSpace===!0?h:d(Ql,{name:"q-transition--field-message"},()=>h),fe===!0?d("div",{class:"q-field__counter"},n.counter!==void 0?n.counter():e.computedCounter.value):null])}function ue(S,E){return E===null?null:d("div",{key:S,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},E)}let se=!1;return ol(()=>{se=!0}),ul(()=>{se===!0&&l.autofocus===!0&&r.focus()}),ll(()=>{Hl.value===!0&&l.for===void 0&&(e.targetUid.value=Mt()),l.autofocus===!0&&r.focus()}),Ye(()=>{c!==null&&clearTimeout(c)}),Object.assign(r,{focus:U,blur:K}),function(){const E=e.getControl===void 0&&n.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...F.value}:F.value;return d("label",{ref:e.rootRef,class:[y.value,a.class],style:a.style,...E},[n.before!==void 0?d("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Be},n.before()):null,d("div",{class:"q-field__inner relative-position col self-stretch"},[d("div",{ref:e.controlRef,class:L.value,tabindex:-1,...e.controlEvents},ve()),R.value===!0?he():null]),n.after!==void 0?d("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Be},n.after()):null])}}var Ca=Ee({name:"QField",inheritAttrs:!1,props:Rt,emits:dl,setup(){return fl(vl())}});let gt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,gt=e.scrollLeft>=0,e.remove()}const ge=1e3,xa=["start","center","end","start-force","center-force","end-force"],ml=Array.prototype.filter,wa=window.getComputedStyle(document.body).overflowAnchor===void 0?Ul:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];ml.call(o,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const n=o[l];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Xe(e,l){return e+l}function _t(e,l,o,n,a,r,p,c){const f=e===window?document.scrollingElement||document.documentElement:e,C=a===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-p-c,scrollMaxSize:0,offsetStart:-p,offsetEnd:-c};if(a===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=f.scrollLeft,s.scrollViewSize+=f.clientWidth),s.scrollMaxSize=f.scrollWidth,r===!0&&(s.scrollStart=(gt===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=f.scrollTop,s.scrollViewSize+=f.clientHeight),s.scrollMaxSize=f.scrollHeight),o!==null)for(let v=o.previousElementSibling;v!==null;v=v.previousElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=v[C]);if(n!==null)for(let v=n.nextElementSibling;v!==null;v=v.nextElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=v[C]);if(l!==e){const v=f.getBoundingClientRect(),q=l.getBoundingClientRect();a===!0?(s.offsetStart+=q.left-v.left,s.offsetEnd-=q.width):(s.offsetStart+=q.top-v.top,s.offsetEnd-=q.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Xt(e,l,o,n){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(n===!0&&(l=(gt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(n===!0&&(l=(gt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function ut(e,l,o,n){if(o>=n)return 0;const a=l.length,r=Math.floor(o/ge),p=Math.floor((n-1)/ge)+1;let c=e.slice(r,p).reduce(Xe,0);return o%ge!==0&&(c-=l.slice(r*ge,o).reduce(Xe,0)),n%ge!==0&&n!==a&&(c-=l.slice(n,p*ge).reduce(Xe,0)),c}const ka={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},qa={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ka};function Va({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:n}){const a=de(),{props:r,emit:p,proxy:c}=a,{$q:f}=c;let C,s,v,q=[],x;const R=_(0),k=_(0),y=_({}),L=_(null),O=_(null),T=_(null),z=_({from:0,to:0}),F=u(()=>r.tableColspan!==void 0?r.tableColspan:100);n===void 0&&(n=u(()=>r.virtualScrollItemSize));const N=u(()=>n.value+";"+r.virtualScrollHorizontal),U=u(()=>N.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);re(U,()=>{se()}),re(N,K);function K(){ue(s,!0)}function ie(g){ue(g===void 0?s:g)}function oe(g,w){const A=l();if(A==null||A.nodeType===8)return;const D=_t(A,o(),L.value,O.value,r.virtualScrollHorizontal,f.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);v!==D.scrollViewSize&&se(D.scrollViewSize),ve(A,D,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,xa.indexOf(w)>-1?w:s>-1&&g>s?"end":"start")}function Z(){const g=l();if(g==null||g.nodeType===8)return;const w=_t(g,o(),L.value,O.value,r.virtualScrollHorizontal,f.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),A=e.value-1,D=w.scrollMaxSize-w.offsetStart-w.offsetEnd-k.value;if(C===w.scrollStart)return;if(w.scrollMaxSize<=0){ve(g,w,0,0);return}v!==w.scrollViewSize&&se(w.scrollViewSize),xe(z.value.from);const X=Math.floor(w.scrollMaxSize-Math.max(w.scrollViewSize,w.offsetEnd)-Math.min(x[A],w.scrollViewSize/2));if(X>0&&Math.ceil(w.scrollStart)>=X){ve(g,w,A,w.scrollMaxSize-w.offsetEnd-q.reduce(Xe,0));return}let I=0,B=w.scrollStart-w.offsetStart,J=B;if(B<=D&&B+w.scrollViewSize>=R.value)B-=R.value,I=z.value.from,J=B;else for(let M=0;B>=q[M]&&I<A;M++)B-=q[M],I+=ge;for(;B>0&&I<A;)B-=x[I],B>-w.scrollViewSize?(I++,J=B):J=x[I]+B;ve(g,w,I,J)}function ve(g,w,A,D,X){const I=typeof X=="string"&&X.indexOf("-force")>-1,B=I===!0?X.replace("-force",""):X,J=B!==void 0?B:"start";let M=Math.max(0,A-y.value[J]),te=M+y.value.total;te>e.value&&(te=e.value,M=Math.max(0,te-y.value.total)),C=w.scrollStart;const be=M!==z.value.from||te!==z.value.to;if(be===!1&&B===void 0){E(A);return}const{activeElement:Me}=document,ce=T.value;be===!0&&ce!==null&&ce!==Me&&ce.contains(Me)===!0&&(ce.addEventListener("focusout",he),setTimeout(()=>{ce!==null&&ce.removeEventListener("focusout",he)})),wa(ce,A-M);const $e=B!==void 0?x.slice(M,A).reduce(Xe,0):0;if(be===!0){const pe=te>=z.value.from&&M<=z.value.to?z.value.to:te;z.value={from:M,to:pe},R.value=ut(q,x,0,M),k.value=ut(q,x,te,e.value),requestAnimationFrame(()=>{z.value.to!==te&&C===w.scrollStart&&(z.value={from:z.value.from,to:te},k.value=ut(q,x,te,e.value))})}requestAnimationFrame(()=>{if(C!==w.scrollStart)return;be===!0&&xe(M);const pe=x.slice(M,A).reduce(Xe,0),Se=pe+w.offsetStart+R.value,Re=Se+x[A];let ze=Se+D;if(B!==void 0){const Ze=pe-$e,G=w.scrollStart+Ze;ze=I!==!0&&G<Se&&Re<G+w.scrollViewSize?G:B==="end"?Re-w.scrollViewSize:Se-(B==="start"?0:Math.round((w.scrollViewSize-x[A])/2))}C=ze,Xt(g,ze,r.virtualScrollHorizontal,f.lang.rtl),E(A)})}function xe(g){const w=T.value;if(w){const A=ml.call(w.children,M=>M.classList&&M.classList.contains("q-virtual-scroll--skip")===!1),D=A.length,X=r.virtualScrollHorizontal===!0?M=>M.getBoundingClientRect().width:M=>M.offsetHeight;let I=g,B,J;for(let M=0;M<D;){for(B=X(A[M]),M++;M<D&&A[M].classList.contains("q-virtual-scroll--with-prev")===!0;)B+=X(A[M]),M++;J=B-x[I],J!==0&&(x[I]+=J,q[Math.floor(I/ge)]+=J),I++}}}function he(){T.value!==null&&T.value!==void 0&&T.value.focus()}function ue(g,w){const A=1*n.value;(w===!0||Array.isArray(x)===!1)&&(x=[]);const D=x.length;x.length=e.value;for(let I=e.value-1;I>=D;I--)x[I]=A;const X=Math.floor((e.value-1)/ge);q=[];for(let I=0;I<=X;I++){let B=0;const J=Math.min((I+1)*ge,e.value);for(let M=I*ge;M<J;M++)B+=x[M];q.push(B)}s=-1,C=void 0,R.value=ut(q,x,0,z.value.from),k.value=ut(q,x,z.value.to,e.value),g>=0?(xe(z.value.from),ke(()=>{oe(g)})):fe()}function se(g){if(g===void 0&&typeof window!="undefined"){const B=l();B!=null&&B.nodeType!==8&&(g=_t(B,o(),L.value,O.value,r.virtualScrollHorizontal,f.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}v=g;const w=parseFloat(r.virtualScrollSliceRatioBefore)||0,A=parseFloat(r.virtualScrollSliceRatioAfter)||0,D=1+w+A,X=g===void 0||g<=0?1:Math.ceil(g/n.value),I=Math.max(1,X,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/D));y.value={total:Math.ceil(I*D),start:Math.ceil(I*w),center:Math.ceil(I*(.5+w)),end:Math.ceil(I*(1+w)),view:X}}function S(g,w){const A=r.virtualScrollHorizontal===!0?"width":"height",D={["--q-virtual-scroll-item-"+A]:n.value+"px"};return[g==="tbody"?d(g,{class:"q-virtual-scroll__padding",key:"before",ref:L},[d("tr",[d("td",{style:{[A]:`${R.value}px`,...D},colspan:F.value})])]):d(g,{class:"q-virtual-scroll__padding",key:"before",ref:L,style:{[A]:`${R.value}px`,...D}}),d(g,{class:"q-virtual-scroll__content",key:"content",ref:T,tabindex:-1},w.flat()),g==="tbody"?d(g,{class:"q-virtual-scroll__padding",key:"after",ref:O},[d("tr",[d("td",{style:{[A]:`${k.value}px`,...D},colspan:F.value})])]):d(g,{class:"q-virtual-scroll__padding",key:"after",ref:O,style:{[A]:`${k.value}px`,...D}})]}function E(g){s!==g&&(r.onVirtualScroll!==void 0&&p("virtualScroll",{index:g,from:z.value.from,to:z.value.to-1,direction:g<s?"decrease":"increase",ref:c}),s=g)}se();const fe=al(Z,f.platform.is.ios===!0?120:35);Kl(()=>{se()});let h=!1;return ol(()=>{h=!0}),ul(()=>{if(h!==!0)return;const g=l();C!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Xt(g,C,r.virtualScrollHorizontal,f.lang.rtl):oe(s)}),Ye(()=>{fe.cancel()}),Object.assign(c,{scrollTo:oe,reset:K,refresh:ie}),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:se,onVirtualScrollEvt:fe,localResetVirtualScroll:ue,padVirtualScroll:S,scrollTo:oe,reset:K,refresh:ie}}const _a=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Aa=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ba=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ma=/[a-z0-9_ -]$/i;function $a(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(Wl.is.firefox===!0?Ma.test(o.data)===!1:_a.test(o.data)===!0||Aa.test(o.data)===!0||Ba.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}const Yt=e=>["add","add-unique","toggle"].includes(e),Ra=".*+?^${}()|[]\\",za=Object.keys(Rt);var Fa=Ee({name:"QSelect",inheritAttrs:!1,props:{...qa,...tl,...Rt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Yt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...dl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:n}=de(),{$q:a}=n,r=_(!1),p=_(!1),c=_(-1),f=_(""),C=_(!1),s=_(!1);let v=null,q,x,R,k=null,y,L,O,T;const z=_(null),F=_(null),N=_(null),U=_(null),K=_(null),ie=Xl(e),oe=$a(Ft),Z=u(()=>Array.isArray(e.options)?e.options.length:0),ve=u(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:xe,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:ue,padVirtualScroll:se,onVirtualScrollEvt:S,scrollTo:E,setVirtualScrollSize:fe}=Va({virtualScrollLength:Z,getVirtualScrollTarget:gl,getVirtualScrollEl:Pe,virtualScrollItemSizeComputed:ve}),h=vl(),g=u(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,b=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const m=e.mapOptions===!0&&q!==void 0?q:[],V=b.map(Q=>bt(Q,m));return e.modelValue===null&&t===!0?V.filter(Q=>Q!==null):V}return b}),w=u(()=>{const t={};return za.forEach(b=>{const m=e[b];m!==void 0&&(t[b]=m)}),t}),A=u(()=>e.optionsDark===null?h.isDark.value:e.optionsDark),D=u(()=>$t(g.value)),X=u(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||g.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),I=u(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),B=u(()=>Z.value===0),J=u(()=>g.value.map(t=>ae.value(t)).join(", ")),M=u(()=>e.displayValue!==void 0?e.displayValue:J.value),te=u(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),be=u(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||g.value.some(te.value))),Me=u(()=>h.focused.value===!0?e.tabindex:-1),ce=u(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${h.targetUid.value}_lb`};return c.value>=0&&(t["aria-activedescendant"]=`${h.targetUid.value}_${c.value}`),t}),$e=u(()=>({id:`${h.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),pe=u(()=>g.value.map((t,b)=>({index:b,opt:t,html:te.value(t),selected:!0,removeAtIndex:et,toggleOption:we,tabindex:Me.value}))),Se=u(()=>{if(Z.value===0)return[];const{from:t,to:b}=xe.value;return e.options.slice(t,b).map((m,V)=>{const Q=_e.value(m)===!0,P=t+V,W={clickable:!0,active:!1,activeClass:Ze.value,manualFocus:!0,focused:!1,disable:Q,tabindex:-1,dense:e.optionsDense,dark:A.value,role:"option",id:`${h.targetUid.value}_${P}`,onClick:()=>{we(m)}};return Q!==!0&&($(m)===!0&&(W.active=!0),c.value===P&&(W.focused=!0),W["aria-selected"]=W.active===!0?"true":"false",a.platform.is.desktop===!0&&(W.onMousemove=()=>{r.value===!0&&Ae(P)})),{index:P,opt:m,html:te.value(m),label:ae.value(m),selected:W.active,focused:W.focused,toggleOption:we,setOptionIndex:Ae,itemProps:W}})}),Re=u(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),ze=u(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ze=u(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),G=u(()=>i(e.optionValue,"value")),ae=u(()=>i(e.optionLabel,"label")),_e=u(()=>i(e.optionDisable,"disable")),Le=u(()=>g.value.map(t=>G.value(t))),ht=u(()=>{const t={onInput:Ft,onChange:oe,onKeydown:Oe,onKeyup:Y,onKeypress:me,onFocus:H,onClick(b){x===!0&&Qe(b)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=oe,t});re(g,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&h.innerLoading.value!==!0&&(p.value!==!0&&r.value!==!0||D.value!==!0)&&(R!==!0&&je(),(p.value===!0||r.value===!0)&&Ne(""))},{immediate:!0}),re(()=>e.fillInput,je),re(r,pt),re(Z,_l);function Je(t){return e.emitValue===!0?G.value(t):t}function Ge(t){if(t>-1&&t<g.value.length)if(e.multiple===!0){const b=e.modelValue.slice();o("remove",{index:t,value:b.splice(t,1)[0]}),o("update:modelValue",b)}else o("update:modelValue",null)}function et(t){Ge(t),h.focus()}function st(t,b){const m=Je(t);if(e.multiple!==!0){e.fillInput===!0&&tt(ae.value(t),!0,!0),o("update:modelValue",m);return}if(g.value.length===0){o("add",{index:0,value:m}),o("update:modelValue",e.multiple===!0?[m]:m);return}if(b===!0&&$(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const V=e.modelValue.slice();o("add",{index:V.length,value:m}),V.push(m),o("update:modelValue",V)}function we(t,b){if(h.editable.value!==!0||t===void 0||_e.value(t)===!0)return;const m=G.value(t);if(e.multiple!==!0){b!==!0&&(tt(e.fillInput===!0?ae.value(t):"",!0,!0),Fe()),F.value!==null&&F.value.focus(),(g.value.length===0||lt(G.value(g.value[0]),m)!==!0)&&o("update:modelValue",e.emitValue===!0?m:t);return}if((x!==!0||C.value===!0)&&h.focus(),H(),g.value.length===0){const P=e.emitValue===!0?m:t;o("add",{index:0,value:P}),o("update:modelValue",e.multiple===!0?[P]:P);return}const V=e.modelValue.slice(),Q=Le.value.findIndex(P=>lt(P,m));if(Q>-1)o("remove",{index:Q,value:V.splice(Q,1)[0]});else{if(e.maxValues!==void 0&&V.length>=e.maxValues)return;const P=e.emitValue===!0?m:t;o("add",{index:V.length,value:P}),V.push(P)}o("update:modelValue",V)}function Ae(t){if(a.platform.is.desktop!==!0)return;const b=t>-1&&t<Z.value?t:-1;c.value!==b&&(c.value=b)}function Te(t=1,b){if(r.value===!0){let m=c.value;do m=Ot(m+t,-1,Z.value-1);while(m!==-1&&m!==c.value&&_e.value(e.options[m])===!0);c.value!==m&&(Ae(m),E(m),b!==!0&&e.useInput===!0&&e.fillInput===!0&&ct(m>=0?ae.value(e.options[m]):y))}}function bt(t,b){const m=V=>lt(G.value(V),t);return e.options.find(m)||b.find(m)||t}function i(t,b){const m=t!==void 0?t:b;return typeof m=="function"?m:V=>V!==null&&typeof V=="object"&&m in V?V[m]:V}function $(t){const b=G.value(t);return Le.value.find(m=>lt(m,b))!==void 0}function H(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===J.value)&&F.value.select()}function j(t){Zl(t,27)===!0&&r.value===!0&&(Qe(t),Fe(),je()),o("keyup",t)}function Y(t){const{value:b}=t.target;if(t.keyCode!==void 0){j(t);return}if(t.target.value="",v!==null&&(clearTimeout(v),v=null),je(),typeof b=="string"&&b.length!==0){const m=b.toLocaleLowerCase(),V=P=>{const W=e.options.find(ne=>P.value(ne).toLocaleLowerCase()===m);return W===void 0?!1:(g.value.indexOf(W)===-1?we(W):Fe(),!0)},Q=P=>{V(G)!==!0&&(V(ae)===!0||P===!0||Ne(b,!0,()=>Q(!0)))};Q()}else h.clearValue(t)}function me(t){o("keypress",t)}function Oe(t){if(o("keydown",t),Jl(t)===!0)return;const b=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),m=t.shiftKey!==!0&&e.multiple!==!0&&(c.value>-1||b===!0);if(t.keyCode===27){Be(t);return}if(t.keyCode===9&&m===!1){He();return}if(t.target===void 0||t.target.id!==h.targetUid.value)return;if(t.keyCode===40&&h.innerLoading.value!==!0&&r.value===!1){qe(t),De();return}if(t.keyCode===8&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ge(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(qe(t),c.value=-1,Te(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&he.value!==void 0&&(qe(t),c.value=Math.max(-1,Math.min(Z.value,c.value+(t.keyCode===33?-1:1)*he.value.view)),Te(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(qe(t),Te(t.keyCode===38?-1:1,e.multiple));const V=Z.value;if((O===void 0||T<Date.now())&&(O=""),V>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||O.length!==0)){r.value!==!0&&De(t);const Q=t.key.toLocaleLowerCase(),P=O.length===1&&O[0]===Q;T=Date.now()+1500,P===!1&&(qe(t),O+=Q);const W=new RegExp("^"+O.split("").map(St=>Ra.indexOf(St)>-1?"\\"+St:St).join(".*"),"i");let ne=c.value;if(P===!0||ne<0||W.test(ae.value(e.options[ne]))!==!0)do ne=Ot(ne+1,-1,V-1);while(ne!==c.value&&(_e.value(e.options[ne])===!0||W.test(ae.value(e.options[ne]))!==!0));c.value!==ne&&ke(()=>{Ae(ne),E(ne),ne>=0&&e.useInput===!0&&e.fillInput===!0&&ct(ae.value(e.options[ne]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||O!=="")&&(t.keyCode!==9||m===!1))){if(t.keyCode!==9&&qe(t),c.value>-1&&c.value<V){we(e.options[c.value]);return}if(b===!0){const Q=(P,W)=>{if(W){if(Yt(W)!==!0)return}else W=e.newValueMode;if(P==null)return;tt("",e.multiple!==!0,!0),(W==="toggle"?we:st)(P,W==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),Fe())};if(e.onNewValue!==void 0?o("newValue",f.value,Q):Q(f.value),e.multiple!==!0)return}r.value===!0?He():h.innerLoading.value!==!0&&De()}}function Pe(){return x===!0?K.value:N.value!==null&&N.value.contentEl!==null?N.value.contentEl:void 0}function gl(){return Pe()}function hl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?pe.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?pe.value.map((t,b)=>d(sl,{key:"option-"+b,removable:h.editable.value===!0&&_e.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Me.value,onRemove(){t.removeAtIndex(b)}},()=>d("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ae.value(t.opt)}))):[d("span",{[be.value===!0?"innerHTML":"textContent"]:M.value})]}function zt(){if(B.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:f.value}):void 0;const t=l.option!==void 0?l.option:m=>d(il,{key:m.index,...m.itemProps},()=>d(Bt,()=>d(rl,()=>d("span",{[m.html===!0?"innerHTML":"textContent"]:m.label}))));let b=se("div",Se.value.map(t));return l["before-options"]!==void 0&&(b=l["before-options"]().concat(b)),Gl(l["after-options"],b)}function bl(t,b){const m=b===!0?{...ce.value,...h.splitAttrs.attributes.value}:void 0,V={ref:b===!0?F:void 0,key:"i_t",class:X.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...m,id:b===!0?h.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ht.value};return t!==!0&&x===!0&&(Array.isArray(V.class)===!0?V.class=[...V.class,"no-pointer-events"]:V.class+=" no-pointer-events"),d("input",V)}function Ft(t){v!==null&&(clearTimeout(v),v=null),!(t&&t.target&&t.target.qComposing===!0)&&(ct(t.target.value||""),R=!0,y=f.value,h.focused.value!==!0&&(x!==!0||C.value===!0)&&h.focus(),e.onFilter!==void 0&&(v=setTimeout(()=>{v=null,Ne(f.value)},e.inputDebounce)))}function ct(t){f.value!==t&&(f.value=t,o("inputValue",t))}function tt(t,b,m){R=m!==!0,e.useInput===!0&&(ct(t),(b===!0||m!==!0)&&(y=t),b!==!0&&Ne(t))}function Ne(t,b,m){if(e.onFilter===void 0||b!==!0&&h.focused.value!==!0)return;h.innerLoading.value===!0?o("filterAbort"):(h.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&g.value.length!==0&&R!==!0&&t===ae.value(g.value[0])&&(t="");const V=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);k!==null&&clearTimeout(k),k=V,o("filter",t,(Q,P)=>{(b===!0||h.focused.value===!0)&&k===V&&(clearTimeout(k),typeof Q=="function"&&Q(),s.value=!1,ke(()=>{h.innerLoading.value=!1,h.editable.value===!0&&(b===!0?r.value===!0&&Fe():r.value===!0?pt(!0):r.value=!0),typeof P=="function"&&ke(()=>{P(n)}),typeof m=="function"&&ke(()=>{m(n)})}))},()=>{h.focused.value===!0&&k===V&&(clearTimeout(k),h.innerLoading.value=!1,s.value=!1),r.value===!0&&(r.value=!1)})}function pl(){return d(Gt,{ref:N,class:I.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&B.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:A.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...$e.value,onScrollPassive:S,onBeforeShow:Et,onBeforeHide:Sl,onShow:yl},zt)}function Sl(t){Lt(t),He()}function yl(){fe()}function Cl(t){Qe(t),F.value!==null&&F.value.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function xl(t){Qe(t),ke(()=>{C.value=!1})}function wl(){const t=[d(Ca,{class:`col-auto ${h.fieldClass.value}`,...w.value,for:h.targetUid.value,dark:A.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...h.splitAttrs.listeners.value,onFocus:Cl,onBlur:xl},{...l,rawControl:()=>h.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&t.push(d("div",{ref:K,class:I.value+" scroll",style:e.popupContentStyle,...$e.value,onClick:Be,onScrollPassive:S},zt())),d(Jt,{ref:U,modelValue:p.value,position:e.useInput===!0?"top":void 0,transitionShow:L,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Et,onBeforeHide:kl,onHide:ql,onShow:Vl},()=>d("div",{class:"q-select__dialog"+(A.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},t))}function kl(t){Lt(t),U.value!==null&&U.value.__updateRefocusTarget(h.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),h.focused.value=!1}function ql(t){Fe(),h.focused.value===!1&&o("blur",t),je()}function Vl(){const t=document.activeElement;(t===null||t.id!==h.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),fe()}function He(){p.value!==!0&&(c.value=-1,r.value===!0&&(r.value=!1),h.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),h.innerLoading.value===!0&&(o("filterAbort"),h.innerLoading.value=!1,s.value=!1)))}function De(t){h.editable.value===!0&&(x===!0?(h.onControlFocusin(t),p.value=!0,ke(()=>{h.focus()})):h.focus(),e.onFilter!==void 0?Ne(f.value):(B.value!==!0||l["no-option"]!==void 0)&&(r.value=!0))}function Fe(){p.value=!1,He()}function je(){e.useInput===!0&&tt(e.multiple!==!0&&e.fillInput===!0&&g.value.length!==0&&ae.value(g.value[0])||"",!0,!0)}function pt(t){let b=-1;if(t===!0){if(g.value.length!==0){const m=G.value(g.value[0]);b=e.options.findIndex(V=>lt(G.value(V),m))}ue(b)}Ae(b)}function _l(t,b){r.value===!0&&h.innerLoading.value===!1&&(ue(-1,!0),ke(()=>{r.value===!0&&h.innerLoading.value===!1&&(t>b?ue():pt(!0))}))}function It(){p.value===!1&&N.value!==null&&N.value.updatePosition()}function Et(t){t!==void 0&&Qe(t),o("popupShow",t),h.hasPopupOpen=!0,h.onControlFocusin(t)}function Lt(t){t!==void 0&&Qe(t),o("popupHide",t),h.hasPopupOpen=!1,h.onControlFocusout(t)}function Tt(){x=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||B.value===!1:!0),L=a.platform.is.ios===!0&&x===!0&&e.useInput===!0?"fade":e.transitionShow}return nl(Tt),Yl(It),Tt(),Ye(()=>{v!==null&&clearTimeout(v)}),Object.assign(n,{showPopup:De,hidePopup:Fe,removeAtIndex:Ge,add:st,toggleOption:we,getOptionIndex:()=>c.value,setOptionIndex:Ae,moveOptionSelection:Te,filter:Ne,updateMenuPosition:It,updateInputValue:tt,isOptionSelected:$,getEmittingOptionValue:Je,isOptionDisabled:(...t)=>_e.value.apply(null,t)===!0,getOptionValue:(...t)=>G.value.apply(null,t),getOptionLabel:(...t)=>ae.value.apply(null,t)}),Object.assign(h,{innerValue:g,fieldClass:u(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:F,hasValue:D,showPopup:De,floatingLabel:u(()=>e.hideSelected!==!0&&D.value===!0||typeof f.value=="number"||f.value.length!==0||$t(e.displayValue)),getControlChild:()=>{if(h.editable.value!==!1&&(p.value===!0||B.value!==!0||l["no-option"]!==void 0))return x===!0?wl():pl();h.hasPopupOpen===!0&&(h.hasPopupOpen=!1)},controlEvents:{onFocusin(t){h.onControlFocusin(t)},onFocusout(t){h.onControlFocusout(t,()=>{je(),He()})},onClick(t){if(Be(t),x!==!0&&r.value===!0){He(),F.value!==null&&F.value.focus();return}De(t)}},getControl:t=>{const b=hl(),m=t===!0||p.value!==!0||x!==!0;if(e.useInput===!0)b.push(bl(t,m));else if(h.editable.value===!0){const Q=m===!0?ce.value:void 0;b.push(d("input",{ref:m===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:m===!0?h.targetUid.value:void 0,value:M.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Q,onKeydown:Oe,onKeyup:j,onKeypress:me})),m===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&b.push(d("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Y}))}if(ie.value!==void 0&&e.disable!==!0&&Le.value.length!==0){const Q=Le.value.map(P=>d("option",{value:P,selected:!0}));b.push(d("select",{class:"hidden",name:ie.value,multiple:e.multiple},Q))}const V=e.useInput===!0||m!==!0?void 0:h.splitAttrs.attributes.value;return d("div",{class:"q-field__native row items-center",...V,...h.splitAttrs.listeners.value},b)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[d(Ve,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:Re.value})]:null}),fl(h)}});const Ia={__name:"SimpleSelect",props:{options:Array,selected:{type:String,default:null},disable:Boolean},emits:["update:model-value"],setup(e,{emit:l}){return(o,n)=>(ye(),mt(Fa,{options:e.options,"model-value":e.selected,"onUpdate:modelValue":n[0]||(n[0]=a=>{o.$emit("update:model-value",a)}),dense:"","options-dense":"",filled:"",disable:e.disable},ea({_:2},[e.selected===null?{name:"append",fn:Ce(()=>[le(Ve,{name:"help",size:"xs",color:"orange-5"})]),key:"0"}:void 0]),1032,["options","model-value","disable"]))}},Ea="The components of an atom",La=`Atoms are made of protons, neutrons and electrons. <<1>> are positively charged, <<2>> 
<<4>> and <<5>> are together in the nucleus, whereas <<6>> are distributed in orbitals around the nucleus.`,Ta=[{type:"text",text:"Atoms are made of protons, neutrons and electrons."},{type:"select",defaultMessage:"Protons are the positively charged particles in the atom. Electrons are negative and neutrons have no charge.",options:[{label:"Protons",correct:!0},{label:"Electrons",message:"Electrons are negatively charged. The positively charged particles are called Protons."},{label:"Neutrons",message:"Neutrons don't have a charge (their charge is zero). The positively charged particles are called Protons."}]},{type:"text",text:"are positively charged,"},{type:"select",options:[{label:"electrons",correct:!0},{label:"protons",message:"Protons are positively charged. The negatively charged particles are called Electrons."},{label:"neutrons",message:"Neutrons don't have a charge (their charge is zero). The negatively charged particles are called Electrons."}]},{type:"text",text:"are negatively charged, and"},{type:"select",options:[{label:"neutrons",correct:!0,message:"Neutrons don't have a charge (their charge is zero)."},{label:"electrons",message:"Electrons are negatively charged. The particles with no charge are called Neutrons."},{label:"protons",message:"Protons are positively charged. The particles with no charge are called Neutrons."}]},{type:"text",text:"have no charge."},{type:"select",points:3,options:[{label:"Neutrons",correct:!0},{label:"Electrons",message:"Electrons are not in the nucleus."}]},{type:"text",text:"and"},{type:"select",options:[{label:"protons",correct:!0},{label:"electrons",message:"Electrons are not in the nucleus."}]},{type:"text",text:"are together in the nucleus, whereas"},{type:"select",options:[{label:"electrons",correct:!0,message:"Electrons are not in the nucleus."},{label:"neutrons",message:"Neutrons are not in orbitals, they are in the nucleus together with protons."},{label:"protons",message:"Protons are not in orbitals, they are in the nucleus together with neutrons."}]},{type:"text",text:"are distributed in orbitals around the nucleus."}];var At={title:Ea,question:La,fragments:Ta};const Oa={class:"q-pa-sm"},Pa={class:"buttons"},Na={class:"column"},Ha={__name:"QuestionLoader",setup(e){const l=_(!0),o=_(!0),n=_({});let a=0;At.fragments.forEach((f,C)=>{f.type==="select"&&(n.value[C]={type:f.type},n.value[C].selected=null,n.value[C].message=f.defaultMessage||null,n.value[C].correctAnswers=f.options.filter(s=>s.correct).map(s=>s.label),n.value[C].baseScore=Number(f.points)||1,n.value[C].multiplier=o.value?-1:0,n.value[C].score=0,a+=f.points?Number(f.points):1)});const r=_(!1);function p(){r.value=!r.value}const c=u(()=>Math.max(0,Object.values(n.value).map(f=>f.score).reduce((f,C)=>f+C,0)));return(f,C)=>(ye(),Ue(nt,null,[at("div",Oa,[at("p",{class:Ct(["text-h5 q-my-md text-bold",!f.$q.dark.isActive||"text-white"])},Ke(xt(At).title),3),le(kt,{class:"q-mb-sm"}),(ye(!0),Ue(nt,null,la(xt(At).fragments,(s,v)=>(ye(),Ue(nt,{key:v},[s.type==="text"?(ye(),Ue("span",{key:0,class:Ct(["question-text",!f.$q.dark.isActive||"text-white"])},Ke(s.text),3)):s.type==="select"?(ye(),Ue(nt,{key:1},[le(Ia,{options:s.options,selected:n.value[v].selected,disable:r.value,style:{display:"inline-block"},"onUpdate:modelValue":q=>{if(n.value[v].selected=q.label,n.value[v].message=q.message||s.defaultMessage||null,q.label===null){n.value[v].score=0;return}n.value[v].correctAnswers.includes(q.label)?n.value[v].score=n.value[v].baseScore:n.value[v].score=n.value[v].baseScore*n.value[v].multiplier}},null,8,["options","selected","disable","onUpdate:modelValue"]),l.value||r.value?(ye(),Ue(nt,{key:0},[n.value[v].message?(ye(),mt(Pt,{key:0,icon:"info",round:"",dense:"",flat:"",color:n.value[v].score>0?"positive":"negative"},{default:Ce(()=>[le(oa,null,{default:Ce(()=>[le(na,{class:Ct(n.value[v].score>0?"bg-green-1":"bg-red-1")},{avatar:Ce(()=>[le(Ve,{name:n.value[v].score>0?"check":"close",color:n.value[v].score>0?"positive":"negative"},null,8,["name","color"])]),default:Ce(()=>[at("span",null,Ke(n.value[v].message),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["color"])):ot("",!0),le(sl,{color:n.value[v].score>0?"positive":"negative","text-color":"white"},{default:Ce(()=>[Ht(Ke(n.value[v].score>0?"+":"")+Ke(n.value[v].score<0?"-":"")+Ke(n.value[v].score),1)]),_:2},1032,["color"])],64)):ot("",!0)],64)):ot("",!0)],64))),128)),at("div",Pa,[l.value?ot("",!0):(ye(),mt(Pt,{key:0,onClick:p,label:"Check",color:"primary",disable:r.value},null,8,["disable"]))])]),le(kt),at("div",Na,[l.value||r.value?(ye(),mt(il,{key:0},{default:Ce(()=>[le(Bt,{side:"",top:""},{default:Ce(()=>[le(rl,{caption:""},{default:Ce(()=>[Ht("Score:")]),_:1}),le(Ve,{name:"analytics",size:"xl",color:"primary"})]),_:1}),le(Bt,null,{default:Ce(()=>[le(fa,{modelValue:c.value,"onUpdate:modelValue":C[0]||(C[0]=s=>c.value=s),"marker-labels":"",min:0,max:xt(a),class:"q-px-lg",style:{"max-width":"50%"},readonly:""},null,8,["modelValue","max"])]),_:1})]),_:1})):ot("",!0),le(kt),le(Nt,{color:"grey",modelValue:o.value,"onUpdate:modelValue":C[1]||(C[1]=s=>o.value=s),label:"Subtract incorrect scores",disable:"",title:"Toggling not yet implemented. Cannot be switched off at present"},null,8,["modelValue"]),le(Nt,{modelValue:l.value,"onUpdate:modelValue":C[2]||(C[2]=s=>l.value=s),label:"Show instant feedback"},null,8,["modelValue"])])],64))}};var ja=ta(Ha,[["__scopeId","data-v-e5e6167a"]]);export{ja as default};
